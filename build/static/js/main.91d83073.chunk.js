(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/document.22478554.svg"},225:function(e,t,a){e.exports=a.p+"static/media/logo-full.5e3fd4f1.png"},332:function(e,t,a){},376:function(e,t,a){e.exports=a.p+"static/media/dashboard.b8d66617.svg"},386:function(e,t,a){e.exports=a.p+"static/media/img.d511ba80.svg"},387:function(e,t,a){e.exports=a.p+"static/media/pdf.7d7b22ee.svg"},388:function(e,t,a){e.exports=a.p+"static/media/doc.37a56acc.svg"},448:function(e,t,a){},486:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=486},551:function(e,t,a){e.exports=a.p+"static/media/menu.0f699da9.svg"},552:function(e,t,a){e.exports=a.p+"static/media/users.cabce716.svg"},553:function(e,t,a){e.exports=a.p+"static/media/vendor.0fa2dfe9.svg"},554:function(e,t,a){e.exports=a.p+"static/media/material.5b1cb73f.svg"},555:function(e,t,a){e.exports=a.p+"static/media/vendor1.8e124ac7.svg"},556:function(e,t,a){e.exports=a.p+"static/media/installation.d2feca42.svg"},557:function(e,t,a){e.exports=a.p+"static/media/machinery.19dcde0f.svg"},558:function(e,t,a){e.exports=a.p+"static/media/logoicon.f151a609.png"},559:function(e,t,a){e.exports=a.p+"static/media/logotext.876fb2da.png"},560:function(e,t,a){e.exports=a.p+"static/media/home.0d5203b3.svg"},576:function(e,t,a){e.exports=a.p+"static/media/letterHead.b2c48d48.png"},577:function(e,t,a){e.exports=a.p+"static/media/Capture.75914da4.PNG"},586:function(e,t,a){e.exports=a(892)},591:function(e,t,a){},592:function(e,t,a){},593:function(e,t,a){e.exports=a.p+"static/media/project.9840dacf.svg"},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){},619:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},624:function(e,t,a){},682:function(e,t,a){},683:function(e,t,a){},684:function(e,t,a){},685:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},688:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},691:function(e,t,a){},692:function(e,t,a){},693:function(e,t,a){},694:function(e,t,a){},699:function(e,t){},701:function(e,t){},743:function(e,t){},744:function(e,t){},79:function(e,t,a){e.exports=a.p+"static/media/user.9039b8ea.svg"},873:function(e,t,a){},874:function(e,t,a){},875:function(e,t,a){},876:function(e,t,a){},877:function(e,t,a){},878:function(e,t,a){},879:function(e,t,a){},880:function(e,t,a){},881:function(e,t,a){},882:function(e,t,a){},883:function(e,t,a){},884:function(e,t,a){},885:function(e,t,a){},886:function(e,t,a){},887:function(e,t,a){},888:function(e,t,a){},889:function(e,t,a){},890:function(e,t,a){},891:function(e,t,a){},892:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),o=a.n(r),i=a(3),l=(a(591),a(592),a(551)),s=a.n(l),m=a(376),u=a.n(m),d=a(79),p=a.n(d),f=a(552),b=a.n(f),E=a(553),h=a.n(E),j=(a(593),a(554)),g=a.n(j),v=a(555),N=a.n(v),O=a(556),w=a.n(O),y=a(557),S=a.n(y),C=a(558),D=a.n(C),z=a(559),I=a.n(z),A=a(98),P=(a(448),function(e){var t=e.type,a=e.className,r=e.onClick,o=e.label,i=e.disabled;Object(A.a)(e,["type","className","onClick","label","disabled"]);return c.a.createElement(n.Fragment,null,c.a.createElement("button",{type:t,className:a,onClick:r,disabled:i},o))}),T=a(110),k=a.n(T),_=a(29),x=a(12),R=a(10),L=a.n(R),M="206.189.200.10:3001",U=function(e){return new Promise((function(t,a){L.a.get(M+e.url,{headers:Object(x.a)({},e.headers),withCredentials:!0}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},H=function(e){return new Promise((function(t,a){L.a.post(M+e.url,Object(x.a)({},e.body),{headers:Object(x.a)({},e.headers),withCredentials:!0}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},V=function(e){var t,a=c.a.useState(!0),n=Object(i.a)(a,2),r=n[0],o=n[1],l=c.a.useState(!1),m=Object(i.a)(l,2),d=m[0],f=m[1],E=[{path:"/dashboard",fieldName:"Dashboard",icon:k.a},{path:"/user",fieldName:"Add User",icon:p.a},{path:"/users",fieldName:"User List",icon:b.a},{path:"/vendor",fieldName:"Add Vendor",icon:N.a},{path:"/vendor-list",fieldName:"Vendor List",icon:h.a},{path:"/addArea",fieldName:"Add Area",icon:u.a},{path:"/installation",fieldName:"Installation view and add",icon:w.a},{path:"/add-material",fieldName:"Material view and add",icon:g.a},{path:"/add-machinery",fieldName:"Machinery view and add",icon:S.a},{path:"/reports",fieldName:"Reports",icon:u.a},{path:"/techDocs",fieldName:"Technical Documents",icon:k.a}],j=[{path:"/dashboard",fieldName:"Dashboard",icon:k.a},{path:"/projects",fieldName:"Project List",icon:p.a},{path:"/notifications",fieldName:"Notification List",icon:p.a},{path:"/notification",fieldName:"Add notification",icon:p.a},{path:"/changePass",fieldName:"Change Password",icon:p.a},{path:"/techDocs",fieldName:"Technical Documents",icon:k.a}],v=[{path:"/dashboard",fieldName:"Dashboard",icon:k.a},{path:"/projects",fieldName:"Project List",icon:p.a},{path:"/notification",fieldName:"Add notification",icon:p.a},{path:"/changePass",fieldName:"Change Password",icon:p.a},{path:"/techDocs",fieldName:"Technical Documents",icon:k.a}],O=[{path:"/dashboard",fieldName:"Dashboard",icon:k.a},{path:"/projects",fieldName:"Project List",icon:p.a},{path:"/notifications",fieldName:"Notification List",icon:p.a},{path:"/notification",fieldName:"Add notification",icon:p.a},{path:"/changePass",fieldName:"Change Password",icon:p.a},{path:"/techDocs",fieldName:"Technical Documents",icon:k.a}],y=[{path:"/dashboard",fieldName:"Dashboard",icon:k.a},{path:"/projects",fieldName:"Project List",icon:p.a},{path:"/notification",fieldName:"Add notification",icon:p.a},{path:"/changePass",fieldName:"Change Password",icon:p.a},{path:"/techDocs",fieldName:"Technical Documents",icon:k.a}];switch(localStorage.getItem("Role")){case"SAP":t=E;break;case"GM/DGM":t=j;break;case"Engineer":t=O;break;case"Jr. Engineer":t=v;break;case"Technician":t=y}return c.a.createElement("div",{id:"navbar",style:{gridTemplateColumns:r?"240px calc(100% - 240px)":window.innerWidth>800?"60px calc(100% - 60px)":"0px calc(100% - 0px)"}},c.a.createElement("div",null,c.a.createElement("div",{className:"nav-logo-container"},c.a.createElement("div",{id:"nav-logo"},c.a.createElement("img",{src:D.a,alt:"logo",height:"35px"}),r?c.a.createElement("img",{src:I.a,alt:"logo",height:"35px"}):null))),c.a.createElement("div",null,c.a.createElement("div",{id:"top-nav"},c.a.createElement("img",{src:s.a,alt:"hamburger",onClick:function(){return o(!r)}}),c.a.createElement("div",{className:"button",style:{right:r?"240px":"60px"}},c.a.createElement(P,{label:"Logout",onClick:function(){U({url:"/users/logout"}).then((function(e){localStorage.clear(),window.location.pathname="/login"})).catch((function(e){}))}})))),c.a.createElement("div",null,c.a.createElement("div",{className:"side-nav-container"},c.a.createElement("div",{id:"side-nav"},t.map((function(e){return c.a.createElement(_.b,{to:e.path,onClick:function(){return f(!d)},key:e.path},c.a.createElement("div",{className:"nav-element",key:e.fieldName,style:{backgroundColor:e.path.localeCompare(window.location.pathname)?"#2e2e2e":"#000"}},c.a.createElement("div",{className:"nav-element-content"},c.a.createElement("p",null,c.a.createElement("img",{src:e.icon,alt:"dashboard icon",height:"16px"})," ",r?e.fieldName:null))))}))))),c.a.createElement("div",{id:"body"},e.children))},F=(a(614),function(e){return c.a.createElement("div",{className:"white-card-parent"},c.a.createElement("div",{className:"white-card"},e.children))}),q={structure:{display:"grid",gridTemplateColumns:"2fr 1fr"}},J=function(){return c.a.createElement("div",null,c.a.createElement(F,null,c.a.createElement("div",{id:"dashboard",style:q.structure},c.a.createElement("div",{style:Object(x.a)({padding:"20px"},q.structure)},c.a.createElement("div",null,c.a.createElement("p",null,"Name:"),c.a.createElement("p",null,"Mobile Number:"),c.a.createElement("p",null,"Email:"),c.a.createElement("p",null,"Status:"),c.a.createElement("p",null,"User Code:")),c.a.createElement("div",null,c.a.createElement("p",null,localStorage.getItem("Name")),c.a.createElement("p",null,localStorage.getItem("mobile")),c.a.createElement("p",null,localStorage.getItem("Email")),c.a.createElement("p",null,localStorage.getItem("status")),c.a.createElement("p",null,localStorage.getItem("userCode")))),c.a.createElement("div",{style:{padding:"20px"}},c.a.createElement("img",{src:M+"/userPics/"+localStorage.getItem("photo"),alt:"User Photo",width:"200px"})))))},Z=a(58),W=function(e){return c.a.createElement(Z.b,{path:e.path,component:e.isAuth?e.component:J,exact:e.exact})},B=(a(615),a(225)),Y=a.n(B),G=(a(616),a(617),function(e){return e.show?c.a.createElement("div",{className:"backdrop",onClick:e.clicked}):null}),Q=function(e){return c.a.createElement("div",null,c.a.createElement(G,{show:e.show,clicked:e.noHandler}),c.a.createElement("div",{className:"modal",style:{opacity:e.show?"1":"0",transform:e.show?"translateY(0)":"translateY(-100vh)"}},e.children))},K=(a(618),function(){return c.a.createElement("div",{className:"Loader"},"Loading...")}),X=function(e){var t=c.a.useState({email:"",password:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=function(){u(!1)};return c.a.createElement("div",{className:"login-container"},f||j?c.a.createElement(Q,{show:m,noHandler:v},j?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,e.loggedIn?window.location.pathname="/dashboard":null,c.a.createElement("div",{className:"login-card"},c.a.createElement("img",{className:"login-logo",src:Y.a,alt:"logo"}),c.a.createElement("div",{className:"login-input-container"},c.a.createElement("span",null,"Email or User code"),c.a.createElement("input",{className:"login-ipt",placeholder:"Enter Email or User code",type:"text",name:"salarycode",value:r.email,onChange:function(e){var t=e.target.value;o(Object(x.a)({},r,{email:t}))}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{className:"login-ipt",placeholder:"Password",type:"password",name:"password",value:r.password,onChange:function(e){var t=e.target.value;o(Object(x.a)({},r,{password:t}))}}),c.a.createElement("button",{className:"login-signin",onClick:function(){g(!1),b(!0),u(!0),H({url:"/users/login",body:{email:r.email,password:r.password}}).then((function(e){localStorage.setItem("Role",e.designation),localStorage.setItem("Id",e._id),localStorage.setItem("Name",e.name),localStorage.setItem("areaAndZone",JSON.stringify(e.areaAndZone)),localStorage.setItem("Email",e.email),localStorage.setItem("userCode",e.userCode),localStorage.setItem("status",e.status),localStorage.setItem("mobile",e.mobileNo),localStorage.setItem("photo",e.photo),window.location.pathname="/dashboard",v(),b(!1)})).catch((function(e){g(!0),b(!1)}))}},"SIGN IN"))))},$=a(40),ee=a(27),te=(a(619),a(620),a(621),a(560),function(e){return c.a.createElement("div",{className:"container-header"},c.a.createElement("div",{className:"form-name"},c.a.createElement("h2",null,e.formName)),c.a.createElement("div",{className:"bread-crumb"},c.a.createElement("breadCrum",null)))}),ae=(a(332),function(e){var t=e.name,a=e.type,r=e.placeholder,o=e.onChange,i=e.className,l=e.size,s=e.value,m=e.label,u=e.disabled,d=e.required;Object(A.a)(e,["name","type","placeholder","onChange","className","size","value","label","disabled","required"]);return c.a.createElement(n.Fragment,null,c.a.createElement("label",{htmlFor:t},m),c.a.createElement("br",null),c.a.createElement("input",{id:t,name:t,type:a,placeholder:r,onChange:o,value:s,className:"".concat(l," ").concat(i),disabled:u,readOnly:u,required:d}))});ae.defaultProps={type:"text"};var ne=ae,ce=function(e){var t=e.name,a=e.label,n=e.className,r=e.size,o=e.onChange,i=e.options;Object(A.a)(e,["name","label","className","size","onChange","options"]);return c.a.createElement("div",null,c.a.createElement("label",{htmlFor:t},a),c.a.createElement("br",null),c.a.createElement("select",{id:t,name:t,onChange:o,className:"".concat(r," ").concat(n)},i.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},null!=e.name?e.name:e.zoneName)}))))};ce.defaultProps={options:[{_id:"",name:""}]};var re=ce,oe=function(e){var t=e.className,a=e.iconClass,r=e.onClick,o=e.hint,i=e.disabled;Object(A.a)(e,["className","iconClass","onClick","hint","disabled"]);return c.a.createElement(n.Fragment,null,c.a.createElement("button",{className:t,onClick:r,style:{padding:"8px"},disabled:i,title:o},c.a.createElement("i",{className:a})))},ie=function(e){return c.a.createElement("center",null,c.a.createElement("p",null,e.question),c.a.createElement("div",null,c.a.createElement(oe,{iconClass:"fas fa-check-circle",className:"success",onClick:e.yesHandler}),c.a.createElement(oe,{iconClass:"fas fa-times-circle",className:"danger",onClick:e.noHandler})))},le=a(457),se=a(546),me=a(919),ue=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)({}),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(""),z=Object(i.a)(D,2),I=z[0],A=z[1],T=Object(n.useState)(!1),k=Object(i.a)(T,2),_=k[0],R=k[1],U=Object(n.useState)([]),H=Object(i.a)(U,2),V=H[0],q=H[1],J=Object(n.useState)(!1),W=Object(i.a)(J,2),B=W[0],Y=W[1],G=Object(n.useState)(null),X=Object(i.a)(G,2),ae=X[0],ce=X[1],oe=[],ue=[],de=N.map((function(e){return c.a.createElement("div",{name:"area selected",key:e._id,value:e.areaName,className:"au-allareas"},c.a.createElement("div",{className:"au-area-head"},e.areaName),c.a.createElement("div",{className:"au-zones"},e.zones.map((function(t){return c.a.createElement(le.a,{control:c.a.createElement(se.a,{name:e._id,onChange:function(e){var t=Object(ee.a)(V),a=V.find((function(t){return t.zone===e.target.value}));a?(t.splice(V.indexOf(a),1),q(t)):(t.push({zone:e.target.value,area:e.target.name,checked:!0}),q(t))},value:t._id}),label:t.zoneName})}))))}));Object(n.useEffect)((function(){R(!0),C(!0),L.a.get(M+"/areas/getAreas").then((function(e){e.data.map((function(e){e=Object(x.a)({},e,{checked:!1})})),O(e.data),pe(),R(!1)})).catch((function(e){Y(!0),R(!1)}))}),[]);var pe=function(){C(!1)};return c.a.createElement("div",{id:"add-user"},s?c.a.createElement(Z.a,{to:"/users"}):null,c.a.createElement(Q,{show:S,noHandler:pe},_?c.a.createElement(K,null):B?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:ae,noHandler:pe,question:I})),c.a.createElement(te,{formName:"Add User"}),c.a.createElement(F,null,c.a.createElement("div",{className:"add-user-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"User Type*",options:[{_id:"Select User Type",name:"Select User Type"},{_id:"GM/DGM",name:"GM/DGM"},{_id:"Engineer",name:"Engineer"},{_id:"Jr. Engineer",name:"Jr. Engineer"},{_id:"Technician",name:"Technician "}],onChange:function(e){return j(Object(x.a)({},h,{type:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"user-name",label:"User Name*",placeholder:"Enter name",size:"wide",onChange:function(e){return j(Object(x.a)({},h,{name:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"user-code",label:"User Code*",placeholder:"User Code",size:"wide",onChange:function(e){return j(Object(x.a)({},h,{ucode:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"email",label:"Email Id*",placeholder:"Enter Email Id",size:"wide",onChange:function(e){return j(Object(x.a)({},h,{email:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"password",label:"Password*",placeholder:"Enter Password",type:"password",size:"wide",onChange:function(e){return j(Object(x.a)({},h,{pas:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"confirm-password",label:"Confirm password*",type:"password",placeholder:"Re-enter password",size:"wide",onChange:function(e){return j(Object(x.a)({},h,{repas:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"mobile",label:"Mobile number*",placeholder:"Enter mobile number",size:"wide",onChange:function(e){return j(Object(x.a)({},h,{mobile:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Status*",options:[{_id:"Select Status",name:"Select Status"},{_id:"Active",name:"Active"},{_id:"Inactive",name:"Inactive"},{_id:"Removed",name:"Removed"}],onChange:function(e){return j(Object(x.a)({},h,{status:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"upload-photo",label:"Upload photo",size:"wide",type:"file",onChange:function(e){var t=e.target.files[0];f(t)}}))),c.a.createElement("span",{className:"au-text"},"Select Areas & Zones *"),c.a.createElement("div",{className:"au-areascontainer"},de),c.a.createElement("hr",null),a.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement(P,{onClick:function(){var e,t=[],a=(e={name:"NAME",email:"EMAIL",pas:"PASSWORD"},Object($.a)(e,"name","NAME"),Object($.a)(e,"type","DESIGNATION"),Object($.a)(e,"status","STATUS"),Object($.a)(e,"ucode","USER CODE"),Object($.a)(e,"mobile","MOBILE NUMBER"),e);Object.keys(a).map((function(e){h[e]||t.push(a[e]+" is required")})),t.length>0?r(t):(r([]),ce((function(){return function(){return function(){R(!0);for(var e=0;e<V.length;e++){var t=V[e].area;ue.find((function(e){return e.area===t}))||(V.forEach((function(e){e.area===t&&oe.push(e.zone)})),ue.push({area:t,zones:oe}),oe=[])}console.log(ue);var a=new FormData;a.append("email",h.email),a.append("password",h.pas),a.append("name",h.name),a.append("designation",h.type),a.append("file",p),a.append("areaAndZone",JSON.stringify(ue)),a.append("status",h.status),a.append("userCode",h.ucode),a.append("mobileNo",h.mobile),L.a.post(M+"/users/signup",a).then((function(e){pe(),R(!1),m(!0)})).catch((function(e){Y(!0),R(!1)})),ue=[],oe=[]}()}})),A("Do you want to add this user?"),C(!0))},className:"success",label:"Submit"}))))},de=(a(622),a(623),function(e){return c.a.createElement("div",{style:{display:"flex",flexFlow:"row",justifyContent:"center"}},c.a.createElement(oe,{iconClass:"fas fa-trash-alt",className:"success",onClick:e.deleteHandler,hint:"Delete"}),c.a.createElement(oe,{iconClass:"far fa-edit",className:"success",hint:"Edit",onClick:e.editHandler}))}),pe=(a(624),a(220)),fe=a.n(pe),be=function(e){var t=e.headings,a=e.data,r=e.title,o=Object(n.useState)(null),l=Object(i.a)(o,2),s=l[0],m=l[1],u=[];return t.map((function(e){u.push({title:e,field:e})})),c.a.createElement(fe.a,{title:r,columns:u,data:a,onRowClick:function(e,t){return m(t.tableData.id)},options:{headerStyle:{backgroundColor:"#dcd6f7",color:"#3e206d"},rowStyle:function(e){return{backgroundColor:s===e.tableData.id?"#EEE":"#FFF"}}}})};be.defaultProps={title:"List"};var Ee=be,he=function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),s=(l[0],l[1],Object(n.useState)("")),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)(!1),j=Object(i.a)(h,2),g=j[0],v=j[1],N=Object(n.useState)(null),O=Object(i.a)(N,2),w=O[0],y=O[1],S=Object(n.useState)(!1),C=Object(i.a)(S,2),D=C[0],z=C[1],I=Object(n.useState)(!1),A=Object(i.a)(I,2),T=A[0],k=(A[1],{}),x=function(e){var t=e.target,a=t.name,n=t.value;k={password:n,userId:a}},R=function(e){z(!1),y((function(){return function(){return t=e,E(!0),void L.a.patch(M+"/users/"+t,{status:"Removed"}).then((function(e){H(),E(!1),window.location.reload(!0)})).catch((function(e){z(!0),E(!1)}));var t}})),d("Do you want to remove this user?"),v(!0)},U=function(){z(!1),y((function(){return function(){return E(!0),void(k.password&&L.a.post(M+"/users/changePassByAdmin",k).then((function(e){H(),E(!1),window.location.reload(!0)})).catch((function(e){z(!0),E(!1)})))}})),d("Do you want to change this password"),v(!0)},H=function(){v(!1)};return c.a.useEffect((function(){E(!0),v(!0),L.a.get(M+"/users/getAllUsers").then((function(e){var t=[];e.data.map((function(e){t.push({"User Type":c.a.createElement("div",{className:"minHight-ul"},e.designation),"Name Of User":e.name,"User Image":"no-photo"===e.photo?e.photo:c.a.createElement("img",{src:"".concat(M,"/userPics/").concat(e.photo),alt:"no-image",style:{width:"60px",height:"60px"}}),UserId:e.userCode,"Date Created":c.a.createElement("div",{className:"minHight-ul"},new Date(1e3*parseInt(e._id.toString().substring(0,8),16)).toDateString()),Email:e.email,Area:e.areaAndZone?e.areaAndZone.map((function(e){return c.a.createElement("button",{className:"aa-small-box"},e.area.areaName)})):"",Zone:e.areaAndZone.map((function(e){return e.zones?e.zones.map((function(e){return c.a.createElement("button",{className:"aa-small-box"},e.zoneName)})):""})),Mobile:e.mobileNo,Status:c.a.createElement(P,{label:e.status,className:"Active"===e.status?"success":"Inactive"===e.status?"danger":"dark"}),"Change Password":c.a.createElement("div",{className:"changePass"},c.a.createElement(ne,{label:"Enter New Password",size:"wide",type:"password",name:e._id,onChange:function(e){return x(e)}}),c.a.createElement(P,{className:"primary",label:"Change Password",onClick:U})),Action:c.a.createElement("div",{className:"action-buttons"},c.a.createElement("div",{style:{marginBottom:"10px"}},c.a.createElement(_.b,{to:"/edit-user/"+e.email},c.a.createElement(oe,{iconClass:"fa fa-pencil",className:"success",hint:"Edit User"}))),c.a.createElement("div",null,c.a.createElement(oe,{iconClass:"fas fa-trash-alt",className:"danger",hint:"Remove User",onClick:function(){return R(e._id)}})))})})),r(t),H(),E(!1)})).catch((function(e){z(!0),E(!1)}))}),[T]),c.a.createElement("div",{className:"userList"},c.a.createElement(Q,{show:g,noHandler:H},b?c.a.createElement(K,null):D?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:w,noHandler:H,question:u})),c.a.createElement(te,{formName:"User List"}),c.a.createElement(F,null,c.a.createElement("div",{class:"userListTable"},a&&a.length>0?c.a.createElement(Ee,{data:a,headings:["User Type","Name Of User","User Image","UserId","Date Created","Email","Area","Zone","Mobile","Status","Change Password","Action"]}):"No Users")))},je=(a(682),function(e){var t=e.name,a=e.placeholder,r=e.onChange,o=(e.className,e.size),i=e.value,l=e.label,s=e.disabled,m=e.required;Object(A.a)(e,["name","placeholder","onChange","className","size","value","label","disabled","required"]);return c.a.createElement(n.Fragment,null,c.a.createElement("label",{htmlFor:t},l),c.a.createElement("br",null),c.a.createElement("textarea",{style:{resize:"none",padding:"10px"},id:t,name:t,placeholder:a,onChange:r,value:i,className:o,disabled:s,required:m,readOnly:s}))}),ge=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)({}),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)(null),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),_=Object(i.a)(k,2),R=_[0],U=_[1],H=Object(n.useState)(!1),V=Object(i.a)(H,2),q=V[0],J=V[1];Object(n.useEffect)((function(){D(!0),g(!0),L.a.get(M+"/zones/getzones").then((function(e){var t=[{_id:"Select Zone Code",name:"Select Zone Code"}];e.data.map((function(e){t.push({_id:e.zoneCode,name:e.zoneCode+" ("+e.zoneName+")"})})),b(t),Z(),D(!1)})).catch((function(e){U(!0),D(!1)}))}),[]);var Z=function(){g(!1)};return c.a.createElement("div",{id:"add-vendor"},c.a.createElement(Q,{show:j,noHandler:Z},C?c.a.createElement(K,null):R?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:A,noHandler:Z,question:O})),c.a.createElement(te,{formName:"Add Vendor Form"}),c.a.createElement(F,null,c.a.createElement("div",{className:"add-vendor-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"vendor-code",label:"Vendor Code*",placeholder:"Enter Vendor Code",size:"wide",onChange:function(e){return u(Object(x.a)({},m,{vendorCode:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"vendor-name",label:"Vendor Name*",placeholder:"Enter Vendor Name",size:"wide",onChange:function(e){return u(Object(x.a)({},m,{vendorName:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Vendor Class*",options:[{_id:"Select Class",name:"Select Class"},{_id:"A",name:"A"},{_id:"B",name:"B"},{_id:"C",name:"C"},{_id:"D",name:"D"},{_id:"E",name:"E"}],onChange:function(e){return u(Object(x.a)({},m,{vendorClass:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{name:"zone-code",label:"Zone Code*",size:"wide",options:f,onChange:function(e){return u(Object(x.a)({},m,{zoneCode:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"mobile-no",label:"Mobile No*",placeholder:"Enter Mobile Number",size:"wide",type:"tel",onChange:function(e){return u(Object(x.a)({},m,{phone:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"email",label:"Email ID*",placeholder:"Enter Email ID",size:"wide",type:"email",onChange:function(e){return u(Object(x.a)({},m,{email:e.target.value}))}}))),c.a.createElement("div",{className:"text-area"},c.a.createElement(je,{name:"vendor-address",label:"Vendor Address*",placeholder:"Enter the Address",size:"wide",onChange:function(e){return u(Object(x.a)({},m,{address:e.target.value}))}})),c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"upload-photo",label:"Upload Photo",size:"wide",type:"file",onChange:function(e){J(!1);var t=e.target.files[0];u((function(e){return Object(x.a)({},e,{photo:t})}))},value:q?"":null})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"upload-signature",label:"Upload Signature",size:"wide",type:"file",onChange:function(e){J(!1);var t=e.target.files[0];u((function(e){return Object(x.a)({},e,{signature:t})}))},value:q?"":null})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{name:"Status",size:"wide",options:[{_id:"Select Status",name:"Select Status"},{_id:"Active",name:"Active"},{_id:"Inactive",name:"Inactive"}],label:"Status*",onChange:function(e){return u(Object(x.a)({},m,{status:e.target.value}))}})))),c.a.createElement("hr",null),r.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement(P,{className:"primary",type:"submit",label:"Submit",onClick:function(){U(!1);var t=[],a={vendorName:"VENDOR NAME",address:"ADDRESS",status:"STATUS",zoneCode:"ZONE CODE",email:"EMAIL",vendorClass:"VENDOR CLASS",phone:"PHONE",vendorCode:"VENDOR CODE"};Object.keys(a).map((function(e){m[e]||t.push(a[e]+" is required")})),t.length>0?o(t):(o([]),T((function(){return function(){return function(){D(!0);var t=new FormData;t.append("name",m.vendorName),t.append("address",m.address),t.append("status",m.status),t.append("zoneCode",m.zoneCode),t.append("email",m.email),t.append("class",m.vendorClass),t.append("phone",m.phone),t.append("code",m.vendorCode),t.append("photo",m.photo),t.append("signature",m.signature),L.a.post(M+"/vendors/createVendors",t).then((function(t){D(!1),Z(),J(!0),e.history.push("/vendor-list")})).catch((function(e){T((function(){return function(){return Z()}})),U(!0),D(!1)}))}()}})),w("Do you want to add this vendor?"),g(!0))}})))},ve=(a(683),function(e){var t=e.headings,a=e.data,r=e.title,o=Object(n.useState)(null),l=Object(i.a)(o,2),s=l[0],m=l[1],u=[];return t.map((function(e){"Action"===e||"Actions"===e||"Uploaded Details"===e||"View Show Cause Notice"===e?u.push({title:e,field:e,export:!1}):u.push({title:e,field:e})})),c.a.createElement(fe.a,{title:r,columns:u,data:a,onRowClick:function(e,t){return m(t.tableData.id)},options:{headerStyle:{backgroundColor:"#dcd6f7",color:"#3e206d"},rowStyle:function(e){return{backgroundColor:s===e.tableData.id?"#EEE":"#FFF"}},exportButton:!0,exportAllData:!0}})});ve.defaultProps={title:"List"};var Ne=ve,Oe=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)([]),o=Object(i.a)(r,2),l=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),E=b[0],h=b[1],j=Object(n.useState)(!1),g=Object(i.a)(j,2),v=g[0],N=g[1],O=Object(n.useState)(!1),w=Object(i.a)(O,2),y=w[0],S=w[1],C=Object(n.useState)(""),D=Object(i.a)(C,2),z=D[0],I=D[1],A=Object(n.useState)(!1),T=Object(i.a)(A,2),k=T[0],_=T[1],R=Object(n.useState)(!1),U=Object(i.a)(R,2),H=U[0],V=U[1],q=Object(n.useState)({name:"",id:"",code:"",status:"",zoneCode:0,email:"",class:"",phone:0,photo:"noimage.jpg",cumulativeAmt:0}),J=Object(i.a)(q,2),Z=J[0],W=J[1];Object(n.useEffect)((function(){S(!0),p(!0);var e=[];L.a.get(M+"/vendors/getVendors").then((function(t){t.data.map((function(t){var a={};a.Name=t.name,a.Code=t.code,a.Address=t.address,a.status=t.status,a.ZoneCode=t.zoneCode,a.Email=t.email,a["Vendor Class"]=t.class,a["Phone No."]=t.phone,a.Photo="no-photo"===t.photo?t.photo:c.a.createElement("img",{src:"".concat(M,"/vendors/").concat(t.photo),alt:"no-photo",style:{width:"60px",height:"60px"}}),a.Signature="no-signature"===t.signature?t.signature:c.a.createElement("img",{src:"".concat(M,"/vendors/").concat(t.signature),alt:"no-signature",style:{width:"60px",height:"60px"}}),a["Cumulative Amt."]=t.cumulativeAmt,a.Actions=c.a.createElement(de,{deleteHandler:function(){return G(t._id)},editHandler:function(){return B(t)}}),e=[].concat(Object(ee.a)(e),[a])}));var n=Object(ee.a)(e).sort((function(e,t){return e["Cumulative Amt."]-t["Cumulative Amt."]}));s(n),a(!0),X(),S(!1)})).catch((function(e){V(!0),S(!1)}))}),[E]);var B=function(e){W({id:e._id,name:e.name,code:e.code,status:e.status,zoneCode:e.zoneCode,email:e.email,class:e.class,phone:e.phone,photo:"noimage.jpg",cumulativeAmt:e.cumulativeAmt})};function Y(e){var t=e.target,a=t.name,n=t.value;W((function(e){return Object(x.a)({},e,Object($.a)({},a,n))}))}var G=function(e){V(!1),N((function(){return function(){return function(e){S(!0),L.a.patch(M+"/vendors/"+e,{status:"Removed"}).then((function(e){h(!E),S(!1),X()})).catch((function(e){V(!0),S(!1)}))}(e)}})),I("Do you want to delete this vendor?"),p(!0)},X=function(){p(!1)},ae=function(){S(!0);var e=new FormData;e.append("name",Z.name),e.append("code",Z.code),e.append("status",Z.status),e.append("zoneCode",Z.zoneCode),e.append("email",Z.email),e.append("class",Z.class),e.append("phone",Z.phone),e.append("cumulativeAmt",Z.cumulativeAmt),Z.photo&&e.append("file",Z.photo),L.a.patch(M+"/vendors/"+Z.id,e).then((function(e){W({id:"",name:"",code:"",status:"",zoneCode:0,email:"",class:"",phone:0,photo:"no-photo",cumulativeAmt:0}),_(!0),h(!E),S(!1),X()})).catch((function(e){V(!0),S(!1)}))};return c.a.createElement("div",{className:"vendorList"},c.a.createElement(Q,{show:d,noHandler:X},y?c.a.createElement(K,null):H?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:v,noHandler:X,question:z})),c.a.createElement(te,{formName:"Vendor List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"name",label:"Name",size:"wide",onChange:Y,value:Z.name})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"code",label:"Code",size:"wide",onChange:Y,value:Z.code})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{name:"status",size:"wide",label:"Status",options:[{name:"Select",_id:"Select"},{name:"Active",_id:"Active"},{name:"Inactive",_id:"Inactive"},{name:"Removed",_id:"Removed"}],onChange:Y})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"zoneCode",label:"Zone Code",size:"wide",onChange:Y,value:Z.zoneCode})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"email",label:"Email",size:"wide",onChange:Y,value:Z.email})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"class",label:"Vendor Class",size:"wide",onChange:Y,value:Z.class})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"phone",label:"Phone",size:"wide",onChange:Y,value:Z.phone})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"cumulativeAmt",label:" Cumulative Amt",size:"wide",onChange:Y,value:Z.cumulativeAmt})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"photo",label:"Upload Photo",size:"wide",type:"file",onChange:function(e){_(!1);var t=e.target.files[0];W((function(e){return Object(x.a)({},e,{photo:t})}))},value:k?"":null})),c.a.createElement("div",{className:"field"},c.a.createElement(P,{className:"primary",type:"submit",label:"Update",onClick:function(){V(!1),N((function(){return function(){return ae()}})),I("Do you want to edit this vendor?"),p(!0)}}))),c.a.createElement(Ne,{data:l,headings:["Name","Code","Address","status","ZoneCode","Email","Vendor Class","Phone No.","Cumulative Amt.","Photo","Signature","Actions"]})))},we=(a(684),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)({name:"",id:""}),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],O=v[1],w=c.a.useState({name:"",code:"",id:"",status:!1}),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!1),z=Object(i.a)(D,2),I=z[0],A=z[1],T=Object(n.useState)([]),k=Object(i.a)(T,2),_=k[0],x=k[1],R=Object(n.useState)({value:"",id:"",zones:[]}),U=Object(i.a)(R,2),H=U[0],V=U[1],q=H.zones.map((function(e){return c.a.createElement("button",{className:"aa-small-box"},e.zoneName," - (",e.zoneCode,")")})),J=p.map((function(e){return c.a.createElement("button",{name:"area selected",key:e._id,value:e.areaName,onClick:function(t){we(!1),V({value:t.target.value,id:e._id,zones:e.zones});var a=p;a.forEach((function(e){e.areaName===t.target.value?e.active=!0:e.active=!1})),f(a)},className:e.active?"aa-small-highlight":"aa-small-box"},e.areaName)})),Z=Object(n.useState)(!0),W=Object(i.a)(Z,2),B=W[0],Y=W[1],G=Object(n.useState)(!0),X=Object(i.a)(G,2),$=X[0],ae=X[1],ce=Object(n.useState)(""),re=Object(i.a)(ce,2),le=re[0],se=re[1],ue=Object(n.useState)(""),de=Object(i.a)(ue,2),pe=de[0],fe=de[1],be=Object(n.useState)(""),he=Object(i.a)(be,2),je=he[0],ge=he[1],ve=Object(n.useState)(!0),Ne=Object(i.a)(ve,2),Oe=Ne[0],we=Ne[1],ye=Object(n.useState)([]),Se=Object(i.a)(ye,2),Ce=Se[0],De=Se[1],ze=Object(n.useState)(!0),Ie=Object(i.a)(ze,2),Ae=Ie[0],Pe=Ie[1],Te=Object(n.useState)(!1),ke=Object(i.a)(Te,2),_e=ke[0],xe=ke[1],Re=Object(n.useState)(null),Le=Object(i.a)(Re,2),Me=Le[0],Ue=Le[1],He=Object(n.useState)(""),Ve=Object(i.a)(He,2),Fe=Ve[0],qe=Ve[1],Je=Object(n.useState)(!1),Ze=Object(i.a)(Je,2),We=Ze[0],Be=Ze[1];Object(n.useEffect)((function(){Be(!0),xe(!0),L.a.get(M+"/areas/getAreas").then((function(e){var t=[];e.data.map((function(e){var a={areaName:e.areaName,zones:e.zones,_id:e._id,active:!1};t.push(a)})),f(t);var a=[];e.data.map((function(e){a.push({"Area Name":e.areaName,"Edit Area":c.a.createElement("div",{className:"action-buttons"},c.a.createElement(oe,{onClick:function(){j({name:e.areaName,id:e._id}),A(!0),window.scrollTo(0,0)},className:"success",hint:"Edit",iconClass:"fa fa-pencil"})),"Zones & Zone Codes":e.zones?e.zones.map((function(t){return c.a.createElement("div",{className:"aa-align-row"},c.a.createElement("button",{className:"aa-small-box"},t.zoneName," - (",t.zoneCode,")"),c.a.createElement(oe,{onClick:function(){C({name:t.zoneName,code:t.zoneCode,id:t._id,status:!0}),window.scrollTo(0,0),we(!1),fe(t.zoneName),ge(t.zoneCode),V({value:e.areaName,id:e._id,zones:e.zones}),De(t)},className:"success",hint:"Edit",iconClass:"fa fa-pencil"}))})):""})})),x(a),Ye(),Be(!1)})).catch((function(e){O(!0),Be(!1)}))}),[Ae]);var Ye=function(){xe(!1)};return c.a.createElement("div",null,c.a.createElement(Q,{show:_e,noHandler:Ye},We?c.a.createElement(K,null):N?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:Me,noHandler:Ye,question:Fe})),c.a.createElement(te,{formName:"Add Area"}),c.a.createElement(F,null,c.a.createElement("div",{className:"aa-row"},c.a.createElement("div",{className:"aa-col"},c.a.createElement("div",{className:"aa-field"},c.a.createElement(ne,{name:"area-name",label:"Add Area",placeholder:I?h.name:"Enter Area Name",value:le,onChange:function(e){return se(e.target.value)},size:"wide"}),a.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement(P,{className:"success",onClick:function(e){O(!1);var t=[];le||t.push("Area is required"),t.length>0?r(t):(r([]),Ue((function(){return function(){return Be(!0),void(I?(A(!1),Be(!0),L.a.patch(M+"/areas/updateArea",{_id:h.id,name:le}).then((function(e){se(""),Ye(),Be(!1),Pe(!Ae)})).catch((function(e){O(!0),Be(!1)}))):L.a.post(M+"/areas/createArea",{areaName:le}).then((function(e){Pe(!Ae),se(""),Ye(),Be(!1)})).catch((function(e){O(!0),Be(!1)})))}})),qe("Do you want to add this area?"),xe(!0))},label:I?"Update Area":"Create Area"}),c.a.createElement(P,{className:"success",onClick:function(){Y(!B)},label:B?"Hide All Areas":"Show All Areas"})),!0===B&&c.a.createElement("div",{className:"aa-box"},J)),c.a.createElement("div",{className:"aa-col"},c.a.createElement("div",{className:"aa-field"},c.a.createElement(ne,{disabled:Oe?"disabled":"",name:"zone-name",label:"Add Zone Name",placeholder:S.status?S.name:"Enter Zone Name",value:pe,onChange:function(e){return fe(e.target.value)},size:"wide"}),c.a.createElement(ne,{disabled:Oe?"disabled":"",name:"zone-code",label:"Add Zone Code",placeholder:S.status?S.code:"Enter Zone Code",value:je,onChange:function(e){return ge(e.target.value)},size:"wide"}),s.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement(P,{className:"success",onClick:Oe?"":function(e){O(!1);var t=[];pe||t.push("ZONE NAME is required"),je||t.push("ZONE CODE is required"),t.length>0?m(t):(m([]),Ue((function(){return function(){return Be(!0),void(S.status?L.a.patch(M+"/zones/updateZone",{_id:S.id,zoneName:pe,zoneCode:je}).then((function(e){C({name:"",code:"",id:"",status:!1}),fe(""),ge(""),H.zones.splice(H.zones.indexOf(Ce),1);var t=H.zones;t=[].concat(Object(ee.a)(t),[{_id:123,zoneName:pe,zoneCode:je}]);var a={value:H.value,id:H.id,zones:t};V(a),Ye(),Be(!1),Pe(!Ae)})).catch((function(e){O(!0),Be(!1)})):L.a.post(M+"/zones/createZone",{zoneName:pe,zoneCode:je,areaId:H.id}).then((function(e){var t=H.zones;t=[].concat(Object(ee.a)(t),[{_id:123,zoneName:pe,zoneCode:je}]);var a={value:H.value,id:H.id,zones:t};V(a),fe(""),ge(""),Ye(),Be(!1),Pe(!Ae)})).catch((function(e){O(!0),Be(!1)})))}})),qe("Do you want to add this zone?"),xe(!0))},label:S&&S.status?"Update Zone":"Create Zone"}),c.a.createElement(P,{className:"success",onClick:Oe?"":function(){ae(!$)},label:$?"Hide All Zones":"Show All Zones"})),!0===$&&c.a.createElement("div",{className:"aa-box"},q))),c.a.createElement("p",null,"Area And Zone List"),c.a.createElement("div",{class:"userListTable"},_&&_.length>0?c.a.createElement(Ee,{headings:["Area Name","Edit Area","Zones & Zone Codes"],data:_}):"No Areas")))}),ye=(a(685),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(null),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!0),z=Object(i.a)(D,2),I=z[0],A=z[1],T=Object(n.useState)(!1),k=Object(i.a)(T,2),_=k[0],R=k[1],U=Object(n.useState)([{_id:null,name:"Select"}]),H=Object(i.a)(U,2),V=H[0],q=H[1],J=Object(n.useState)(!1),Z=Object(i.a)(J,2),W=Z[0],B=Z[1];Object(n.useEffect)((function(){C(!0),f(!0),L.a.all([L.a.get(M+"/installations/allInstallations"),L.a.get(M+"/areas/getAreas")]).then((function(e){var t=[],a=[],n=[{_id:null,name:"Select"}],r=[];t=e[0].data,r=e[1].data;var o=1;t.map((function(e){var t={};t["SL No"]=o,o+=1,t["Name of the Installation"]=e.name,t.Area=e.area.areaName,t.Action=c.a.createElement(de,{deleteHandler:function(){le(e._id)},editHandler:function(){!function(e){B(!0),ae({name:e.name,area:e.area._id,id:e._id})}(e)}}),a=[].concat(Object(ee.a)(a),[t])})),r.map((function(e){n.push({_id:e._id,name:e.areaName})})),m(a),q(n),se(),C(!1)})).catch((function(e){R(!0),C(!1)}))}),[I]);var Y=Object(n.useState)({id:"",name:"",area:""}),G=Object(i.a)(Y,2),X=G[0],ae=G[1];function ce(e){var t=e.target,a=t.name,n=t.value;ae((function(e){return Object(x.a)({},e,Object($.a)({},a,n))}))}var oe=function(){R(!1);var e=[],t={name:"NAME",area:"AREA"};Object.keys(t).map((function(a){X[a]||e.push(t[a]+" is required")})),e.length>0?r(e):(r([]),j(W?function(){return function(){return C(!0),void L.a.patch(M+"/installations/updateInstallation/".concat(X.id),{name:X.name,area:X.area}).then((function(e){se(),C(!1),ae({name:"",area:"",id:""}),A(!I)})).catch((function(e){R(!0),C(!1)}))}}:function(){return function(){return C(!0),void L.a.post(M+"/installations/createInstallation",{name:X.name,area:X.area}).then((function(e){se(),C(!1),ae({name:"",area:"",id:""}),A(!I)})).catch((function(e){R(!0),C(!1)}))}}),O(W?"Do you want to edit this installation?":"Do you want to submit this installation?"),f(!0))},le=function(e){R(!1),j((function(){return function(){return function(e){C(!0),L.a.delete(M+"/installations/deleteInstallation/".concat(e)).then((function(e){se(),C(!1),ae({name:"",area:"",id:""}),A(!I)})).catch((function(e){R(!0),C(!1)}))}(e)}})),O("Do you want to delete this installation?"),f(!0)},se=function(){f(!1)};return c.a.createElement("div",{id:"add-installation"},c.a.createElement(Q,{show:p,noHandler:se},S?c.a.createElement(K,null):_?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:h,noHandler:se,question:N})),c.a.createElement(te,{formName:"Add Installation"}," "),c.a.createElement(F,null,c.a.createElement("div",{className:"add-installation-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"name",label:"Name of the Installation*",size:"wide",onChange:ce,value:X.name})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{label:"Area*",name:"area",options:V,size:"wide",onChange:ce,value:X.area}))),c.a.createElement("br",null),c.a.createElement("hr",null),a.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),W?c.a.createElement(P,{className:"primary",type:"submit",label:"Edit",onClick:oe}):c.a.createElement(P,{className:"success",type:"submit",label:"Submit",onClick:oe})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(Ne,{data:s,headings:["SL No","Name of the Installation","Area","Action"],title:"Installation List"})))}),Se=(a(686),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(null),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!1),z=Object(i.a)(D,2),I=z[0],A=z[1],T=Object(n.useState)([]),k=Object(i.a)(T,2),_=k[0],R=k[1],U=Object(n.useState)(!1),H=Object(i.a)(U,2),V=H[0],q=H[1],J=Object(n.useState)({description:"",details:"No Details",id:"",code:"",unit:""}),Z=Object(i.a)(J,2),W=Z[0],B=Z[1],Y=Object(n.useState)(!1),G=Object(i.a)(Y,2),X=G[0],ae=G[1];Object(n.useEffect)((function(){O(!0),m(!0),L.a.get(M+"/material/getMaterialList").then((function(e){var t=[],a=[];t=e.data;var n=1;t.map((function(e){var t={};t["SL No"]=n,n+=1,t["Description of Material"]=e.description,t["Material Code"]=e.code,t.Unit=e.unit,t["Uploaded Details"]="no-details"===e.details?e.details:c.a.createElement("a",{href:"".concat(M,"/material/").concat(e.details),target:"_blank"},"View Details"),t.Actions=c.a.createElement(de,{deleteHandler:function(){re(e._id)},editHandler:function(){!function(e){ae(!0),B({description:e.description,details:e.details,id:e._id,code:e.code,unit:e.unit})}(e)}}),a=[].concat(Object(ee.a)(a),[t])})),r(a),oe(),O(!1)})).catch((function(e){q(!0),O(!1)}))}),[S]);var ce=function(){q(!1);var e,t=[];e={description:"DESCRIPTION OF THE MATERIAL",code:"MATERIAL CODE",unit:"UNIT OF MEASUREMENT"},Object.keys(e).map((function(a){W[a]||t.push(e[a]+" is required")})),t.length>0?R(t):(R([]),f(X?function(){return function(){return function(){O(!0);var e=new FormData;e.append("description",W.description),e.append("code",W.code),e.append("unit",W.unit),W.details&&e.append("file",W.details);L.a.patch(M+"/material/editMaterial/".concat(W.id),e).then((function(e){ae(!1),oe(),O(!1),ae(!1),B({description:"",details:"",id:"",code:"",unit:""}),A(!0),C(!S)})).catch((function(e){q(!0),O(!1)}))}()}}:function(){return function(){return function(){O(!0);var e=new FormData;e.append("description",W.description),e.append("code",W.code),e.append("unit",W.unit),e.append("file",W.details),L.a.post(M+"/material/createMaterial",e).then((function(e){oe(),O(!1),B({description:"",details:"",id:"",code:"",unit:""}),A(!0),C(!S)})).catch((function(e){q(!0),O(!1)}))}()}}),j(X?"Do you want to edit this material?":"Do you want to submit this material?"),m(!0))},re=function(e){q(!1),f((function(){return function(){return function(e){O(!0),L.a.delete(M+"/material/deleteMaterial/".concat(e)).then((function(e){oe(),O(!1),B({description:"",details:"",id:"",code:"",unit:""}),C(!S)})).catch((function(e){q(!0),O(!1)}))}(e)}})),j("Do you want to delete this material?"),m(!0)},oe=function(){m(!1)};function le(e){var t=e.target,a=t.name,n=t.value;B((function(e){return Object(x.a)({},e,Object($.a)({},a,n))}))}return c.a.createElement("div",{id:"add-material"},c.a.createElement(Q,{show:s,noHandler:oe},N?c.a.createElement(K,null):V?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:p,noHandler:oe,question:h})),c.a.createElement(te,{formName:"Add Material"}," "),c.a.createElement(F,null,c.a.createElement("div",{className:"add-material-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"description",label:"Description of the Material *",size:"wide",onChange:le,value:W.description})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"code",label:"Material Code *",size:"wide",onChange:le,value:W.code})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"unit",label:"Unit of Measurement *",size:"wide",onChange:le,value:W.unit})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"file",label:"Upload Details",name:"details",size:"wide",onChange:function(e){A(!1);var t=e.target.files[0];B((function(e){return Object(x.a)({},e,{details:t})}))},value:I?"":null}))),_.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement("br",null),c.a.createElement("hr",null),X?c.a.createElement(P,{className:"primary",type:"submit",label:"Edit",onClick:ce}):c.a.createElement(P,{className:"success",type:"submit",label:"Submit",onClick:ce})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(Ne,{headings:["SL No","Description of Material","Material Code","Unit","Uploaded Details","Actions"],data:a,title:"Material List"})))}),Ce=(a(687),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(null),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!0),z=Object(i.a)(D,2),I=z[0],A=z[1],T=Object(n.useState)([]),k=Object(i.a)(T,2),_=k[0],R=k[1],U=Object(n.useState)(!1),H=Object(i.a)(U,2),V=H[0],q=H[1],J=Object(n.useState)(!1),Z=Object(i.a)(J,2),W=Z[0],B=Z[1];Object(n.useEffect)((function(){C(!0),f(!0),L.a.get(M+"/machinery/getMachineryList").then((function(e){var t=[],a=[];t=e.data;var n=1;t.map((function(e){var t={};t["SL No"]=n,n+=1,t["Description of Machinery"]=e.description,t["Uploaded Details"]="no-details"===e.details?e.details:c.a.createElement("a",{href:"".concat(M,"/machinery/").concat(e.details),target:"_blank"},"View Details"),t.Actions=c.a.createElement(de,{deleteHandler:function(){G(e._id)},editHandler:function(){!function(e){B(!0),oe({description:e.description,details:e.details,id:e._id})}(e)}}),a=[].concat(Object(ee.a)(a),[t])})),r(a),X(),C(!1)})).catch((function(e){q(!0),C(!1)}))}),[I]);var Y=function(){q(!1);var e,t=[];e={description:"DESCRIPTION OF THE MACHINARY"},Object.keys(e).map((function(a){re[a]||t.push(e[a]+" is required")})),t.length>0?R(t):(R([]),j(W?function(){return function(){return function(){C(!0);var e=new FormData;e.append("description",re.description),re.details&&e.append("file",re.details);L.a.patch(M+"/machinery/editMachinery/".concat(re.id),e).then((function(e){X(),C(!1),oe({description:"",details:"",id:""}),m(!0),A(!I),B(!W)})).catch((function(e){q(!0),C(!1)}))}()}}:function(){return function(){return function(){C(!0);var e=new FormData;e.append("description",re.description),e.append("file",re.details),L.a.post(M+"/machinery/createMachinery",e).then((function(e){X(),m(!0),C(!1),oe({description:"",details:"",id:""}),A(!I)})).catch((function(e){q(!0),C(!1)}))}()}}),O(W?"Do you want to edit this machinery?":"Do you want to submit this machinery?"),f(!0))},G=function(e){q(!1),j((function(){return function(){return function(e){C(!0),L.a.delete(M+"/machinery/deleteMachinery/".concat(e)).then((function(e){X(),C(!1),oe({description:"",details:"",id:""}),A(!I)})).catch((function(e){q(!0),C(!1)}))}(e)}})),O("Do you want to delete this machinery?"),f(!0)},X=function(){f(!1)};var ae=Object(n.useState)({description:"",details:"no_details.jpg",id:""}),ce=Object(i.a)(ae,2),re=ce[0],oe=ce[1];return c.a.createElement("div",{id:"add-machinery"},c.a.createElement(Q,{show:p,noHandler:X},S?c.a.createElement(K,null):V?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:h,noHandler:X,question:N})),c.a.createElement(te,{formName:"Add Machinery"}," "),c.a.createElement(F,null,c.a.createElement("div",{className:"add-machinery-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"description",label:"Description of the Machinery *",size:"wide",onChange:function(e){var t=e.target,a=t.name,n=t.value;oe((function(e){return Object(x.a)({},e,Object($.a)({},a,n))}))},value:re.description})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"file",label:"Upload Details",name:"details",size:"wide",onChange:function(e){m(!1);var t=e.target.files[0];oe((function(e){return Object(x.a)({},e,{details:t})}))},value:s?"":null}))),_.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement("br",null),c.a.createElement("hr",null),W?c.a.createElement(P,{className:"primary",type:"submit",label:"Edit",onClick:Y}):c.a.createElement(P,{className:"success",type:"submit",label:"Submit",onClick:Y})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(Ne,{headings:["SL No","Description of Machinery","Uploaded Details","Actions"],data:a,title:"Machinery List"})))}),De=(a(688),function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(""),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!1),z=Object(i.a)(D,2),I=z[0],A=z[1],T=function(e){var t=0;return e.map((function(e){t+=e.progress})),t},k=function(e,t){O(!0);var a=new FormData;a.append("file",e),a.append("projectId",t),a.append("name","pic"),L.a.post(M+"/projects/uploadEstimate",a).then((function(e){V(),O(!1)})).catch((function(e){A(!0),O(!1)}))},x=function(e,t){A(!1),j((function(){return function(){return function(e,t){O(!0);var a=new FormData;a.append("file",e),a.append("projectId",t),a.append("name","pic"),L.a.post(M+"/projects/uploadDrawing",a).then((function(e){V(),O(!1)})).catch((function(e){A(!0),O(!1)}))}(e,t)}})),C("Do you want to upload this drawing?"),m(!0)};c.a.useEffect((function(){O(!0),m(!0),"GM/DGM"===localStorage.getItem("Role")?U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){var a="/project-details/"+e._id;t.push({"Project Type":e.projectType,"Project Id":e.projectId,"Project Description":e.description.length>100?e.description.slice(0,100):e.description,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:T(e.progress.perDayProgress)<=100?"completed":e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,"Upload Estimate":c.a.createElement("div",null,c.a.createElement(ne,{name:"estimate",label:"Upload estimate",size:"wide",type:"file",onChange:function(e){e.target.files[0]}}),c.a.createElement(oe,{className:"success",hint:"Issue job completion",iconClass:"fa fa-check-circle-o",onClick:function(){return k()}})),"Upload Drawing":c.a.createElement(ne,{type:"file",label:"Upload drawing"}),Actions:c.a.createElement("div",{className:"action-buttons"},c.a.createElement(_.b,{to:a},c.a.createElement(oe,{className:"success",hint:"Project details",iconClass:"fa fa-info"})),c.a.createElement(_.b,{to:"/daily-progress/"+e._id+"/"+e.progress._id},c.a.createElement(oe,{className:"success",hint:"Tally book",iconClass:"fa fa-book"})),c.a.createElement(_.b,{to:"/project"},c.a.createElement(oe,{className:"danger",hint:"Edit",iconClass:"fa fa-pencil"})),c.a.createElement(_.b,{to:"/materials/"+e._id},c.a.createElement(oe,{className:"success",hint:"Issue material",iconClass:"fa fa-file-text"})),c.a.createElement(_.b,{to:"/work-order/"+e._id},c.a.createElement(oe,{className:"success",hint:"Issue work order",iconClass:"fa fa-file-word-o"})),"GM/DGM"===localStorage.getItem("Role")||"Engineer"===localStorage.getItem("Role")?c.a.createElement(_.b,{to:"/show-cause/"+e._id},c.a.createElement(oe,{className:"success",hint:"Issue show cause",iconClass:"fa fa-sticky-note-o"})):null,c.a.createElement(_.b,{to:"/job-completion"},c.a.createElement(oe,{className:"success",hint:"Issue job completion",iconClass:"fa fa-check-circle-o"})),c.a.createElement(oe,{className:"danger",hint:"Delete",iconClass:"fa fa-trash",onClick:function(){return q(e._id)}}),c.a.createElement(oe,{className:"success",hint:"Submit",iconClass:"fa fa-check"}))})})),r(t),V(),O(!1)})).catch((function(e){A(!0),O(!1)})):H({url:"/projects/getUserProjects",body:{userId:localStorage.getItem("Id")}}).then((function(e){var t,a=[];e.map((function(e){var n="/project-details/"+e._id;a.push({"Project Type":e.projectType,"Project Id":e.projectId,"Project Description":e.description.toString().length>100?e.description.slice(0,100):e.description,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.progress&&T(e.progress.perDayProgress)>=100?"completed":e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,"Upload Estimate":c.a.createElement("div",null,c.a.createElement(ne,{name:"estimate",size:"wide",type:"file",onChange:function(e){t=e.target.files[0]}}),c.a.createElement(P,{className:"success",hint:"Upload estimate",label:"Upload",onClick:function(){return function(e,t){A(!1),j((function(){return function(){return k(e,t)}})),C("Do you want to upload this estimate?"),m(!0)}(t,e._id)}})),"Upload Drawing":c.a.createElement("div",null,c.a.createElement(ne,{name:"drawing",size:"wide",type:"file",onChange:function(e){t=e.target.files[0]}}),c.a.createElement(P,{className:"success",hint:"Upload drawing",label:"Upload",onClick:function(){return x(t,e._id)}})),Actions:c.a.createElement("div",{className:"action-buttons"},c.a.createElement(_.b,{to:n},c.a.createElement(oe,{className:"success",hint:"Project details",iconClass:"fa fa-info"})),e.progress&&"Removed"!==e.state?c.a.createElement(_.b,{to:"/daily-progress/"+e._id+"/"+e.progress._id},c.a.createElement(oe,{className:"success",hint:"Tally book",iconClass:"fa fa-book"})):null,"Completed"!==e.state?c.a.createElement(c.a.Fragment,null,c.a.createElement(_.b,{to:"/editProject/"+e._id},c.a.createElement(oe,{className:"danger",hint:"Edit",iconClass:"fa fa-pencil"})),e.progress&&"Removed"!==e.state?c.a.createElement(_.b,{to:"/materials/"+e._id},c.a.createElement(oe,{className:"success",hint:"Issue material",iconClass:"fa fa-file-text"})):null,"Removed"!==e.state?c.a.createElement(_.b,{to:"/work-order/"+e._id},c.a.createElement(oe,{className:"success",hint:"Issue work order",iconClass:"fa fa-file-word-o"})):null,"GM/DGM"!==localStorage.getItem("Role")&&"Engineer"!==localStorage.getItem("Role")||"Removed"===e.state?null:c.a.createElement(_.b,{to:"/show-cause/"+e._id},c.a.createElement(oe,{className:"success",hint:"Issue show cause",iconClass:"fa fa-sticky-note-o"}))):null,"Completed"===e.state&&"Removed"!==e.state?c.a.createElement(_.b,{to:"/job-completion"},c.a.createElement(oe,{className:"success",hint:"Issue job completion",iconClass:"fa fa-check-circle-o"})):null,"Completed"!==e.state&&"Removed"!==e.state?c.a.createElement(oe,{className:"danger",hint:"Delete",iconClass:"fa fa-trash",onClick:function(){return R(e._id)}}):null,"GM/DGM"!==localStorage.getItem("Role")&&"Engineer"!==localStorage.getItem("Role")||"Completed"===e.state||!e.progress||"Removed"===e.state?null:c.a.createElement(_.b,{to:"/submitJob/"+e._id},c.a.createElement(oe,{className:"success",hint:"Submit",iconClass:"fa fa-check"})))})})),r(a),V(),O(!1)})).catch((function(e){A(!0),O(!1)}))}),[p]);var R=function(e){A(!1),j((function(){return function(){return q(e)}})),C("Do you want to delete this project?"),m(!0)},V=function(){m(!1)},q=function(e){O(!0),L.a.delete(M+"/projects/deleteProject/"+e).then((function(e){O(!1),V(),f(!p)})).catch((function(e){}))};return c.a.createElement("div",{id:"project-list"},c.a.createElement(Q,{show:s,noHandler:V},N?c.a.createElement(K,null):I?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:h,noHandler:V,question:S})),c.a.createElement(te,{formName:"Project List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Project Description","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor","Upload Estimate","Upload Drawing","Actions"],data:a}):"No projects")))}),ze=(a(689),a(690),function(e){return c.a.createElement("div",{className:"pd-row"},c.a.createElement("div",{className:"pd-textholder"},e.ipt),c.a.createElement("div",{className:"pd-ans"},e.val))}),Ie=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)({}),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1];Object(n.useEffect)((function(){g(!0),b(!0),L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.id).then((function(e){var t={area:e.data.area?e.data.area.areaName:"none",zone:e.data.zone?e.data.zone.zoneName:"none",vendor:e.data.vendor?e.data.vendor.name:"none",notifs:e.data.notification?e.data.notification.description:"none",tech:e.data.technician?e.data.technician.name:"none",eng:e.data.jrEngineer?e.data.jrEngineer.name:"none",jreng:e.data.engineer?e.data.engineer.name:"none",lcc:new Date(e.data.validityLLC).toDateString(),dos:new Date(e.data.dos).toDateString(),doc:new Date(e.data.doc).toDateString()},a={projectType:e.data.projectType?e.data.projectType:"none",projectId:e.data.projectId?e.data.projectId:"none",priority:e.data.priority?e.data.priority:"none",notificationNo:e.data.notificationNo?e.data.notificationNo:"none",installation:e.data.installation?e.data.installation.name:"none",prNumber:e.data.prNumber?e.data.prNumber:"none",poNumber:e.data.poNumber?e.data.poNumber:"none",estimate:e.data.estimate?e.data.estimate:"",drawing:e.data.drawing?e.data.drawing:"",description:e.data.description?e.data.description:"none",remarks:e.data.remarks?e.data.remarks:"none"};o(a),u(t),y(),g(!1)})).catch((function(e){w(!0),g(!1)}))}),[]);var y=function(){b(!1)};return c.a.createElement(F,null,j||O?c.a.createElement(Q,{show:f,noHandler:y},O?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement("div",{className:"pd-bg"},c.a.createElement("div",{className:"pd-sec1"},c.a.createElement("div",{className:"pd-sec1-in"},c.a.createElement(ze,{ipt:"Project Type",val:r.projectType}),c.a.createElement(ze,{ipt:"Project Id",val:r.projectId}),c.a.createElement(ze,{ipt:"Priority",val:r.priority}),c.a.createElement(ze,{ipt:"Notification No.",val:r.notificationNo}),c.a.createElement(ze,{ipt:"Installation",val:r.installation}),c.a.createElement(ze,{ipt:"Notification",val:m.notifs}),c.a.createElement(ze,{ipt:"Area",val:m.area}),c.a.createElement(ze,{ipt:"Zone",val:m.zone}),c.a.createElement(ze,{ipt:"Vendor",val:m.vendor})),c.a.createElement("div",{className:"pd-sec1-in"},c.a.createElement(ze,{ipt:"DOS",val:m.dos}),c.a.createElement(ze,{ipt:"DOC",val:m.doc}),c.a.createElement(ze,{ipt:"Technician",val:m.tech}),c.a.createElement(ze,{ipt:"Engineer",val:m.eng}),c.a.createElement(ze,{ipt:"Jr. Engineer",val:m.jreng}),c.a.createElement(ze,{ipt:"PR Number",val:r.prNumber}),c.a.createElement(ze,{ipt:"PO Number",val:r.poNumber}),c.a.createElement(ze,{ipt:"Validity LLC",val:m.lcc}))),c.a.createElement("div",{className:"pd-sec2"},c.a.createElement("p",null,"Project Description:"),c.a.createElement("span",null,r.description)),c.a.createElement("div",{className:"pd-sec1"},c.a.createElement("div",{className:"pd-sec1-in"},c.a.createElement("div",{className:"pd-sec3-in"},"Estimate"),c.a.createElement("div",{className:"pd-sec3-in2"},""!==r.estimate?c.a.createElement("a",{href:"".concat(M,"/projects/estimate/").concat(r.estimate),target:"_blank"},c.a.createElement(oe,{className:"success",iconClass:"fa fa-download",hint:"Download estimate"})):c.a.createElement("p",null,"Nothing has been uploaded."))),c.a.createElement("div",{className:"pd-sec1-in"},c.a.createElement("div",{className:"pd-sec3-in"},"Job Drawing / Other Documents:"),c.a.createElement("div",{className:"pd-sec3-in2"},""!==r.drawing?c.a.createElement("a",{href:"".concat(M,"/projects/drawing/").concat(r.drawing),target:"_blank"},c.a.createElement(oe,{className:"success",iconClass:"fa fa-download",hint:"Download drawing"})):c.a.createElement("p",null,"Nothing has been uploaded."))),c.a.createElement("div",{className:"pd-sec1-in"},c.a.createElement("div",{className:"pd-sec3-in"},"Remarks:"),c.a.createElement("div",{className:"pd-sec3-in2"},r.remarks)))))},Ae=(a(691),a(692),function(e){var t=e.type,a=e.options,n=e.label,r=e.name,o=e.onChange,i=e.checkedIndex;Object(A.a)(e,["type","options","label","name","onChange","checkedIndex"]);return c.a.createElement("div",null,c.a.createElement("label",null,n),c.a.createElement("br",null),a.map((function(e,a){return c.a.createElement("label",{htmlFor:e,key:e},null===i?c.a.createElement("input",{type:t,id:e,name:r,value:e,onChange:o}):c.a.createElement("input",{type:t,id:e,name:r,value:e,onChange:o,checked:i===a}),e)})))});Ae.defaultProps={options:[],type:"checkbox",checkedIndex:null};var Pe=Ae,Te=function(e){var t=Object(n.useState)({projectType:"",area:"",zone:"",zoneName:"",areaName:"",state:"",installation:"",installationName:"",notificationNo:0,projectId:"",notification:"",description:"",technician:"",vendor:"5f4e2bcf4c3fc77ff89b6650",engineer:"",jrEngineer:"",dos:"",doc:"",validityLLC:"",prNumber:0,poNumber:0,subcontractorName:"",subcontractorNumber:0}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)([]),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)([]),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)([]),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),_=Object(i.a)(k,2),R=_[0],U=_[1],H=Object(n.useState)(""),V=Object(i.a)(H,2),q=V[0],J=V[1],Z=Object(n.useState)(!1),W=Object(i.a)(Z,2),B=W[0],Y=W[1],G=Object(n.useState)([]),X=Object(i.a)(G,2),ee=X[0],ae=X[1],ce=Object(n.useState)(!1),oe=Object(i.a)(ce,2),le=oe[0],se=oe[1],me={name:"Select",_id:"select"};Object(n.useEffect)((function(){Y(!0),U(!0),L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.projectId).then((function(t){var a,n={};a=t.data,n.projectType=a.projectType,n.areaName=a.area.areaName,n.area=a.area._id,n.state=a.state,n.installation=a.installation._id,n.installationName=a.installation.name,n.notificationNo=a.notificationNo,n.projectId=a.projectId,n.notification=e.match.params.id,n.description=a.description,n.zoneName=a.zone.zoneName,n.zone=a.zone._id,n.vendor=a.vendor._id,n.vendorName=a.vendor.name,n.engineer=a.engineer._id,n.engineerName=a.engineer.name,n.jrEngineer=a.jrEngineer._id,n.jrEngineerName=a.jrEngineer.name,n.technician=a.technician._id,n.technicianName=a.technician.name,n.prNumber=a.prNumber,n.poNumber=a.poNumber,n.validityLLC=a.validityLLC,o(n),L.a.get(M+"/areas/"+a.area._id).then((function(e){var t=e.data.zones.filter((function(e){return e._id!=a.zone._id}));t.unshift({name:a.zone.zoneName,_id:a.zone._id}),ae(t),L.a.post(M+"/users/findUsersInZone",{zoneId:a.zone._id}).then((function(e){var t=[];(t=e.data.technician.filter((function(e){return e._id!==a.technician._id}))).unshift({name:a.technician.name,_id:a.technician._id}),b(t),(t=e.data.je.filter((function(e){return e._id!==a.jrEngineer._id}))).unshift({name:a.jrEngineer.name,_id:a.jrEngineer._id}),g(t),(t=e.data.engineer.filter((function(e){return e._id!==a.engineer._id}))).unshift({name:a.engineer.name,_id:a.engineer._id}),w(t),(t=e.data.vendors.filter((function(e){return e._id!==a.vendor._id}))).unshift({name:a.vendor.name,_id:a.vendor._id}),T(t),de(),Y(!1)})).catch((function(e){se(!0),de()})),u(!0)})).catch((function(e){se(!0),de()}))})).catch((function(e){se(!0),de()}))}),[]);var ue=function(e,t){o(Object(x.a)({},r,Object($.a)({},t,e.target.value))),"zone"===t&&(Y(!0),U(!0),L.a.post(M+"/users/findUsersInZone",{zoneId:e.target.value}).then((function(e){var t=[];(t=e.data.technician).unshift(me),b(t),(t=e.data.je).unshift(me),g(t),(t=e.data.engineer).unshift(me),w(t),(t=e.data.vendors).unshift(me),T(t),de(),Y(!1)})).catch((function(e){se(!0),Y(!1),window.location.reload()})))},de=function(){U(!1)};return c.a.createElement("div",{id:"add-project"},c.a.createElement(Q,{show:R,noHandler:de},B?c.a.createElement(K,null):le?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:function(){Y(!0),L.a.patch(M+"/projects/editProject/"+e.match.params.projectId,r).then((function(t){Y(!1),de(),e.history.push("/projects")})).catch((function(e){se(!0),Y(!1)}))},noHandler:de,question:q})),c.a.createElement(te,{formName:"Edit Project"}),m?c.a.createElement(F,null,c.a.createElement("div",{className:"add-project-form"},c.a.createElement("div",{className:"add-project-grid1"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"project-type",label:"Project Type",disabled:!0,size:"wide",value:r.projectType})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"project-id",label:"Project ID",disabled:!0,size:"wide",value:r.projectId})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"notification-no",label:"Notification No",disabled:!0,size:"wide",value:r.notificationNo})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"installation",label:"Installation",disabled:!0,size:"wide",value:r.installationName})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"area",label:"Area",disabled:!0,size:"wide",value:r.areaName})))),c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(je,{label:"Description of Project",name:"description",size:"wide",disabled:!0,value:r.description}))),c.a.createElement("div",{className:"add-project-grid2"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"State",options:[{name:"Select",_id:"select"},{name:"Completed",_id:"Completed"},{name:"Halt",_id:"Halt"},{name:"Ongoing",_id:"Ongoing"}],onChange:function(e){return ue(e,"state")}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Zone",options:ee,onChange:function(e){return ue(e,"zone")}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Vendor",options:A,value:r.vendor,onChange:function(e){return ue(e,"vendor")}})),c.a.createElement("div",{className:"field"},c.a.createElement(Pe,{label:"Sub Contractor Engaged",name:"is-engaged",type:"radio",options:["Yes","No"],onChange:function(e){"Yes"==e.target.value?D(!0):D(!1)}})),C?c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subName",label:"Sub-coordinator name",size:"wide",value:r.subcontractorName,onChange:function(e){return ue(e,"subcontractorName")}})):null,C?c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subNo",label:"Sub-coordinator No.",size:"wide",value:r.subcontractorNumber,onChange:function(e){return ue(e,"subcontractorNumber")}})):null,c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Technician",options:f,onChange:function(e){return ue(e,"technician")}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Jr. Engineer",options:j,onChange:function(e){return ue(e,"jrEngineer")}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Engineer",options:O,onChange:function(e){return ue(e,"engineer")}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"pr-no",label:"PR Number",value:r.prNumber,size:"wide",onChange:function(e){return ue(e,"prNumber")}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"po-no",label:"PO Number",value:r.poNumber,size:"wide",onChange:function(e){return ue(e,"poNumber")}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"date",name:"lcc-date",label:"Validity date of LCC",size:"wide",onChange:function(e){return ue(e,"validityLLC")}})))),c.a.createElement("hr",null),c.a.createElement(P,{className:"success",label:"Update",onClick:function(){se(!1),J("Do you want to edit this project?"),U(!0)}}))):null)},ke=(a(693),function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(null),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(""),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!1),z=Object(i.a)(D,2),I=z[0],A=z[1],T=Object(n.useState)(!0),k=Object(i.a)(T,2),_=k[0],x=k[1],R=Object(n.useState)(!1),U=Object(i.a)(R,2),H=U[0],V=U[1],q=Object(n.useState)(!1),J=Object(i.a)(q,2),Z=J[0],W=J[1];Object(n.useEffect)((function(){A(!0),j(!0),L.a.get(M+"/techdocs/getDocs").then((function(e){var t=[],a=[];t=e.data;var n=1;t.map((function(e){var t={};t["SL No"]=n,n+=1,t.Document=e.name,t.Action=c.a.createElement("div",null,c.a.createElement(oe,{className:"success",iconClass:"fa fa-download",hint:"View",onClick:function(){return window.open("".concat(M).concat(e.path))}}),"SAP"===localStorage.getItem("Role")&&c.a.createElement(oe,{className:"danger",iconClass:"fas fa-trash-alt",hint:"Delete",onClick:function(){return B(e._id,e.name)}})),a=[].concat(Object(ee.a)(a),[t])})),f(a),Y(),A(!1)})).catch((function(e){V(!0),A(!1)}))}),[_]);var B=function(e,t){O((function(){return function(){return function(e,t){A(!0),L.a.delete(M+"/techdocs/deleteDocs/".concat(e,"/").concat(t)).then((function(e){Y(),A(!1),r(""),m(""),x(!_)})).catch((function(e){V(!0),A(!1)}))}(e,t)}})),C("Do you want to delete this document?"),j(!0)},Y=function(){j(!1)};return c.a.createElement("div",{id:"add-doc"},c.a.createElement(Q,{show:h,noHandler:Y},I?c.a.createElement(K,null):H?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:N,noHandler:Y,question:S})),c.a.createElement(te,{formName:"Technical Documents"}," "),c.a.createElement(F,null,"SAP"===localStorage.getItem("Role")&&c.a.createElement("div",{className:"add-doc-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"name",label:"File Name",size:"wide",onChange:function(e){r(e.target.value)},value:a})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"file",label:"Upload File",size:"wide",onChange:function(e){W(!1);var t=e.target.files[0];m(t)},value:Z?"":null}))),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement(P,{className:"success",type:"submit",label:"Submit",onClick:function(){O((function(){return function(){return function(){A(!0);var e=new FormData;e.append("name",a),e.append("file",s),A(!0),L.a.post(M+"/uploads/techdocs",e).then((function(e){Y(),A(!1),r(""),m(""),W(!0),x(!_)})).catch((function(e){V(!0),A(!1)}))}()}})),C("Do you want to upoad this Document?"),j(!0)}})),c.a.createElement("br",null),c.a.createElement(Ne,{headings:["SL No","Document","Action"],data:p,title:"Documents List"})))}),_e=(a(694),a(9)),xe=a(576),Re=a.n(xe),Le=_e.e.create({body:{paddingBottom:30,paddingHorizontal:35,flexDirection:"column"},image:{justifyContent:"center"},docName:{marginTop:30,fontSize:14,textAlign:"center",fontFamily:"Courier-Bold",textDecoration:"underline",marginBottom:15},section:{paddingTop:20,flexDirection:"row",justifyContent:"space-between",paddingBottom:40},sectionText:{fontSize:14,fontFamily:"Courier"},docNum:{fontSize:12,textAlign:"left",fontFamily:"Courier"},textGreeting:{fontSize:14,textAlign:"justify",fontFamily:"Courier",marginBottom:20},textContent:{fontSize:13,textAlign:"justify",fontFamily:"Courier",marginBottom:20},textContent2:{fontSize:13,textAlign:"justify",fontFamily:"Courier"},textNot:{fontSize:13,textAlign:"justify",fontFamily:"Courier-Bold",marginBottom:25},textJob:{fontSize:13,textAlign:"justify",fontFamily:"Courier-Bold",marginBottom:10},sectionTextSmall:{fontSize:10.25,fontFamily:"Courier-Bold"},sectionTextBigg:{fontSize:10.25,fontFamily:"Courier-Bold",paddingTop:"5vh"},section2:{paddingTop:40,flexDirection:"row",justifyContent:"center",paddingBottom:50},subSection:{paddingLeft:40,justifyContent:"center",paddingRight:50,alignItems:"center"},subSectionRight:{paddingLeft:40,justifyContent:"center",paddingRight:50,alignItems:"right"},sign:{fontSize:10.25,justifyContent:"center"},nameDesignation:{fontSize:14,fontFamily:"Courier-Bold",textDecoration:"underline",paddingTop:10},designation:{marginTop:10,fontSize:11},textContent3:{fontSize:13,textAlign:"justify",fontFamily:"Courier",marginBottom:15}}),Me=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a},Ue=function(e){return c.a.createElement(_e.a,null,c.a.createElement(_e.d,{size:"A4",style:Le.body,wrap:!0},c.a.createElement(_e.b,{style:Le.image,src:Re.a}),"Work Order"===e.docName?c.a.createElement(_e.f,{style:Le.docName},e.docName):null,"Work Order"===e.docName?c.a.createElement(_e.g,{style:Le.section},c.a.createElement(_e.f,{style:Le.sectionText},"Work Order No. :  ",e.projectDetails.workOrder.workOrderNumber),c.a.createElement(_e.f,{style:Le.sectionText},"Date: ",Me(e.projectDetails.workOrder.workOrderDate)," ")):"Show Cause Notice"===e.docName?c.a.createElement(_e.g,{style:Le.section},c.a.createElement(_e.f,{style:Le.sectionText},"Ref No. : ",e.projectDetails.prNumber),c.a.createElement(_e.f,{style:Le.sectionText},"Date: ",e.projectDetails.date)):null,c.a.createElement(_e.f,{style:Le.textContent2},"To,"),c.a.createElement(_e.f,{style:Le.textContent2},"Vendor Name: ",e.projectDetails.vendorName," "),c.a.createElement(_e.f,{style:Le.textContent2},"Vendor Code: ",e.projectDetails.vendorCode," "),"Work Order"===e.docName?c.a.createElement(_e.f,{style:Le.textContent3},"Zone : ",e.projectDetails.zoneCode):null,"Show Cause Notice"===e.docName?c.a.createElement(_e.f,{style:Le.docName},e.docName):null,"Work Order"===e.docName?c.a.createElement(c.a.Fragment,null,c.a.createElement(_e.f,{style:Le.textGreeting},"Dear Sir/Madam,"),c.a.createElement(_e.f,{style:Le.textContent},"You are hereby advised to execute the work as mentioned below:"),c.a.createElement(_e.f,{style:Le.textNot},"Notification No. : ",e.projectDetails.notificationNum),c.a.createElement(_e.f,{style:Le.textJob},"Job Description:"),c.a.createElement(_e.f,{style:Le.textContent}," ",e.projectDetails.workOrder.workContent," "),c.a.createElement(_e.g,{style:Le.section},c.a.createElement(_e.f,{style:Le.sectionTextSmall},"Date of commencement of work : ",Me(e.projectDetails.dos)," "),c.a.createElement(_e.f,{style:Le.sectionTextSmall},"Expected Date of completion : ",Me(e.projectDetails.doc)," ")),c.a.createElement(_e.g,{style:Le.section2},c.a.createElement(_e.g,{style:Le.subSection},c.a.createElement(_e.f,{style:Le.sectionTextSmall},"Signature"),c.a.createElement(_e.f,{style:Le.nameDesignation},e.projectDetails.issuerName),c.a.createElement(_e.f,{style:Le.designation},e.projectDetails.designation)),c.a.createElement(_e.g,{style:Le.subSection},c.a.createElement(_e.f,{style:Le.sectionTextSmall},"Signature"),c.a.createElement(_e.f,{style:Le.nameDesignation},e.projectDetails.vendor),c.a.createElement(_e.f,{style:Le.designation},"Vendor code: ",e.projectDetails.vendorCode," ")))):"Show Cause Notice"===e.docName?c.a.createElement(c.a.Fragment,null,c.a.createElement(_e.f,{style:Le.textNot},"Name of Work : ",e.projectDetails.projectType),c.a.createElement(_e.f,{style:Le.textNot},"Notification No. : ",e.projectDetails.notificationNo),c.a.createElement(_e.f,{style:Le.textGreeting},"Dear Sir/Madam,"),c.a.createElement(_e.f,{style:Le.textContent},e.projectDetails.showCauseData),c.a.createElement(_e.g,{style:Le.subSectionRight},c.a.createElement(_e.f,{style:Le.sectionTextBigg},"Yours Faithfully"),c.a.createElement(_e.f,{style:Le.sectionTextSmall}),c.a.createElement(_e.f,{style:Le.designation},e.projectDetails.name),c.a.createElement(_e.f,{style:Le.designation},"Engineer"),c.a.createElement(_e.f,{style:Le.designation}," Oil India Limited"))):null))},He=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1];return Object(n.useEffect)((function(){L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.id).then((function(e){var t={vendorCode:e.data.vendor?e.data.vendor.code:"none",vendorName:e.data.vendor?e.data.vendor.name:"none",date:e.data.showcauseDate?e.data.showcauseDate:(new Date).toDateString(),notificationNo:e.data.notificationNo?e.data.notificationNo:"none",prNumber:e.data.prNumber?e.data.prNumber:"none",projectType:e.data.projectType?e.data.projectType:"none",name:e.data.engineer?e.data.engineer.name:"none",showcause:e.data.showcause,showcauseDate:e.data.showcauseDate,showCauseData:e.data.showcauseData?e.data.showcauseData:"None"};o(t),g(e.data.showcause)})).catch((function(e){}))}),[]),c.a.createElement("div",null,O?c.a.createElement(Z.a,{to:"/projects"}):null,m?c.a.createElement(F,null,c.a.createElement(n.Fragment,null,c.a.createElement(_e.c,{height:"800",width:"1200",className:"app"},c.a.createElement(Ue,{projectDetails:r,docName:"Show Cause Notice"})))):c.a.createElement(F,null,c.a.createElement("div",{id:"",className:"showcause"},c.a.createElement("div",{className:"sc-1"},c.a.createElement("img",{className:"sc-lh",src:Y.a}),c.a.createElement("img",{className:"sc-lh",src:Y.a})),c.a.createElement("div",{className:"sc-3"}),c.a.createElement("div",{className:"sc-1"},c.a.createElement("span",null,"Ref No : ",r.prNumber),c.a.createElement("span",null,"Date: ",r.date)),c.a.createElement("div",{className:"sc-1"},c.a.createElement("div",{className:"sc-col"},c.a.createElement("span",null,"Vendor Name : ",r.vendorName),c.a.createElement("span",null,"Vendor Code : ",r.vendorCode))),c.a.createElement("h3",{className:"sc-2"},"Sub: Show Cause Notice"),c.a.createElement("div",{className:"sc-1"},c.a.createElement("div",{className:"sc-col"},c.a.createElement("span",null,"Name of Work : ",r.projectType),c.a.createElement("span",null,"Notification No. / Contract No. : ",r.notificationNo))),c.a.createElement("div",{className:"sc-1"},c.a.createElement("div",{className:"an-row-in"},"Dear Sir/Madam, ",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(je,{value:j?r.showCauseData:f,disabled:j?"true":null,size:"wide",label:"Enter Details Here:",onChange:function(e){return b(e.target.value)}}))),c.a.createElement("div",{className:"sc-5"},c.a.createElement("br",null),c.a.createElement("br",null),"Yours faithfully",c.a.createElement("br",null),c.a.createElement("br",null)," ",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",null,r.name),c.a.createElement("p",null,"Engineer"),c.a.createElement("p",null,"Oil India Limited"))),c.a.createElement("div",{className:"sc-button"},j?c.a.createElement("div",null,c.a.createElement(P,{className:"success",label:"Print Show Cause Notice",onClick:function(){u(!0)}}),c.a.createElement(P,{className:"success",label:"Edit Show Cause",onClick:function(){g(!1),b("")}})):c.a.createElement(P,{className:"success",label:"Issue Show Cause Notice",onClick:function(){L.a.patch(M+"/projects/showCause/"+e.match.params.id,{showcause:!0,showcauseDate:(new Date).toDateString(),showcauseData:f}).then((function(e){alert("saved!"),w(!0)})).catch((function(e){}))}}))))},Ve=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0);var e=[];L.a.get(M+"/vendors/getVendors").then((function(t){t.data.map((function(t){var a={};a.Name=t.name,a.Code=t.code,a.Address=t.address,a.status=t.status,a.ZoneCode=t.zoneCode,a.Email=t.email,a["Vendor Class"]=t.class,a["Phone No."]=t.phone,a.Photo="noimage.jpg",e=[].concat(Object(ee.a)(e),[a])}));var a=Object(ee.a)(e).sort((function(e,t){return e["Cummulative Amt."]-t["Cummulative Amt."]}));r(a),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{className:"vendorList"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Vendor List"}),c.a.createElement(F,null,c.a.createElement(Ne,{title:"Vendor Details List",data:a,headings:["Name","Code","Address","status","ZoneCode","Email","Vendor Class","Phone No."]})))},Fe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0);var e=[];L.a.get(M+"/projects/getProjectList").then((function(t){t.data.map((function(t){if(t.showcause){var a={"Project Id":t.projectId,Name:t.vendor.name,Code:t.vendor.code,Address:t.vendor.address,Status:t.vendor.status,ZoneCode:t.vendor.zoneCode,Email:t.vendor.email,"Vendor Class":t.vendor.class,"Phone No.":t.vendor.phone,"View Show Cause Notice":c.a.createElement("div",null,c.a.createElement(_.b,{to:"/show-cause/"+t._id},c.a.createElement(oe,{className:"success",hint:"View show cause",iconClass:"fa fa-sticky-note-o"})))};e=[].concat(Object(ee.a)(e),[a])}})),r(e),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{className:"vendorList"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Vendor List (Show Cause Notice Issued)"}),c.a.createElement(F,null,c.a.createElement(Ne,{data:a,headings:["Project Id","Name","Code","Address","Status","ZoneCode","Email","Vendor Class","Phone No.","View Show Cause Notice"]})))},qe=(a(873),function(e){var t,a=Object(n.useState)(!1),r=Object(i.a)(a,2),o=r[0],l=r[1],s=Object(n.useState)({}),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)(!1),j=Object(i.a)(h,2),g=j[0],v=j[1],N=Object(n.useState)(""),O=Object(i.a)(N,2),w=O[0],y=O[1],S=Object(n.useState)(!1),C=Object(i.a)(S,2),D=C[0],z=C[1],I=Object(n.useState)([]),A=Object(i.a)(I,2),T=A[0],k=A[1],_=Object(n.useState)(),R=Object(i.a)(_,2),U=R[0],H=R[1],V=Object(n.useState)([]),q=Object(i.a)(V,2),J=q[0],W=q[1],B=Object(n.useState)(null),Y=Object(i.a)(B,2),G=Y[0],X=Y[1],$=Object(n.useState)([]),ae=Object(i.a)($,2),ce=ae[0],oe=ae[1],me=Object(n.useState)(!1),ue=Object(i.a)(me,2),de=ue[0],pe=ue[1],fe=[],be=[];Object(n.useEffect)((function(){z(!0),v(!0),L.a.get(M+"/areas/getAreas").then((function(e){e.data.map((function(e){e=Object(x.a)({},e,{checked:!1})})),E(e.data)})).catch((function(e){console.log(e)})),E(be.data),je(),z(!1),L.a.post(M+"/users/getUser",{email:e.match.params.email}).then((function(e){var t,a=[],n={email:e.data[0].email,name:e.data[0].name,type:e.data[0].designation,res:e.data[0].areaAndZone,status:e.data[0].status,ucode:e.data[0].userCode,mobile:e.data[0].mobileNo,userId:e.data[0]._id};t=e.data[0].areaAndZone.map((function(e){return e.area.areaName})),W(t),(a=e.data[0].areaAndZone.map((function(e){return e.zones.map((function(e){return e.zoneName}))}))).forEach((function(e){})),oe(a),d(n),je(),z(!1)})).catch((function(e){l(!0),z(!1)}))}),[]);var Ee=J.map((function(e){return c.a.createElement("span",{className:"existingAreas"},e)})),he=ce.map((function(e){return e.map((function(e){return c.a.createElement("span",{className:"existingZones"},e)}))}));t=b?b.map((function(e){return c.a.createElement("div",{name:"area selected",key:e._id,value:e.areaName,className:"au-allareas"},c.a.createElement("div",{className:"au-area-head"},e.areaName),c.a.createElement("div",{className:"au-zones"},e.zones.map((function(t){return c.a.createElement(le.a,{control:c.a.createElement(se.a,{name:e._id,onChange:function(e){var t=Object(ee.a)(T),a=T.find((function(t){return t.zone===e.target.value}));a?(t.splice(T.indexOf(a),1),k(t),console.log(T)):(t.push({zone:e.target.value,area:e.target.name,checked:!0}),k(t),console.log(T))},value:t._id}),label:t.zoneName})}))))})):null;Object(n.useEffect)((function(){}),[]);var je=function(){v(!1)};return c.a.createElement("div",{id:"add-user"},de?c.a.createElement(Z.a,{to:"/users"}):null,c.a.createElement(Q,{show:g,noHandler:je},D?c.a.createElement(K,null):o?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:G,noHandler:je,question:w})),c.a.createElement(te,{formName:"Edit User"}),c.a.createElement(F,null,c.a.createElement("div",{className:"add-user-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"User Type",options:[{_id:"Select User Type",name:"Select User Type"},{_id:"GM/DGM",name:"GM/DGM"},{_id:"Engineer",name:"Engineer"},{_id:"Jr. Engineer",name:"Jr. Engineer"},{_id:"Technician",name:"Technician "}],name:u.type,onChange:function(e){d(Object(x.a)({},u,{type:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"user-name",label:"User Name",placeholder:"Enter name",size:"wide",value:u.name,onChange:function(e){return d(Object(x.a)({},u,{name:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"user-code",label:"User Code",placeholder:"User Code",size:"wide",value:u.ucode,onChange:function(e){return d(Object(x.a)({},u,{ucode:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"email",label:"Email Id",placeholder:"Enter Email Id",size:"wide",value:u.email,onChange:function(e){return d(Object(x.a)({},u,{email:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"mobile",label:"Mobile number",placeholder:"Enter mobile number",size:"wide",value:u.mobile,onChange:function(e){return d(Object(x.a)({},u,{mobile:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Status",options:[{_id:"Select Status",name:"Select Status"},{_id:"Active",name:"Active"},{_id:"Inactive",name:"Inactive"},{_id:"Removed",name:"Removed"}],onChange:function(e){return d(Object(x.a)({},u,{status:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"upload-photo",label:"Upload photo",size:"wide",type:"file",onChange:function(e){var t=e.target.files[0];H(t),console.log(t)}}))),c.a.createElement("span",{className:"au-text"},"Select Areas & Zones"),c.a.createElement("div",{className:"warning-container"},c.a.createElement("div",{className:"warning"},"Warning: Select the areas of the user again"),c.a.createElement("div",{className:"existing-arz"},"Existing areas:"),Ee,c.a.createElement("div",{className:"existing-arz"},"Existing Zones:"),he),c.a.createElement("div",{className:"au-areascontainer"},t),c.a.createElement("hr",null),c.a.createElement(P,{onClick:function(){y("Do you want to update  this user?"),X((function(){return function(){return function(){z(!0);for(var e=0;e<T.length;e++){var t=T[e].area;be.find((function(e){return e.area===t}))||(T.forEach((function(e){e.area===t&&fe.push(e.zone)})),be.push({area:t,zones:fe}),fe=[])}var a=new FormData;a.append("email",u.email),a.append("name",u.name),a.append("designation",u.type),U&&a.append("file",U),a.append("areaAndZone",JSON.stringify(be)),a.append("status",u.status),a.append("userCode",u.ucode),a.append("mobileNo",u.mobile),L.a.patch(M+"/users/"+u.userId,a).then((function(e){je(),z(!1),pe(!0)})).catch((function(e){l(!0),z(!1)})),be=[],fe=[]}()}})),v(!0)},className:"success",label:"Update"}))))}),Je=(a(874),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,{formName:"Reports"}),c.a.createElement(F,null,c.a.createElement("div",{id:"reports"},[{title:"Contract Jobs",link:"/contract-jobs",type:"PDF, CSV"},{title:"Vendor List",link:"/report-vendor-list",type:"PDF,CSV"},{title:"Vendor Wise Jobs",link:"/vendorJobs",type:"PDF,CSV"},{title:"Vendor Engaging Sub-Contractor",link:"/subcontracted-jobs",type:"PDF,CSV"},{title:"Delayed Jobs",link:"/delayed-jobs",type:"PDF,CSV"},{title:"Work Allocation Against Notification",link:"/work-against-notification",type:"PDF,CSV"},{title:"Cumulative issued - Cumulative consumed (Total)",link:"/cumulative-total",type:"PDF,CSV"},{title:"Cumulative issued - Cumulative consumed (Job Wise)",link:"/cumulative-total-job",type:"PDF,CSV"},{title:"Vendor Engaging Sub-Contractor",link:"/subcontracted-jobs",type:"PDF,CSV"},{title:"Vendors Under Show Cause",link:"/report-show-cause",type:"PDF,CSV"},{title:"Delayed Jobs",link:"/delayed-jobs",type:"PDF,CSV"},{title:"Work Allocation Against Notification",link:"/work-against-notification",type:"PDF,CSV"},{title:"In Progress Project List",link:"/in-progress-projects",type:"PDF,CSV"},{title:"Removed Projects List",link:"/removed-projects",type:"PDF,CSV"},{title:"Halt Project List",link:"/halted-projects",type:"PDF,CSV"},{title:"Completed Project List",link:"/jobComplete",type:"PDF,CSV"},{title:"All projects",link:"/all-projects",type:"PDF,CSV"},{title:"Projects Under Show Cause",link:"/project-show-cause",type:"PDF,CSV"},{title:"All projects (without PR)",link:"/all-projects-nopr",type:"PDF,CSV"},{title:"User Projects (From DOS - TO DOS)",link:"/userJobs",type:"PDF,CSV"},{title:"JE Wise Jobs",link:"/JobsJE",type:"PDF,CSV"},{title:"Installation Wise Jobs",link:"/JobsInstallations",type:"PDF,CSV"},{title:"Contract Jobs with Time Extensions",link:"/extended-jobs",type:"PDF, CSV"},{title:"Job Completion Certificate",link:"/job-certificate",type:"PDF, CSV"},{title:"Tally Book Report",link:"/tallyBookReport",type:"PDF"}].map((function(e){return c.a.createElement(_.b,{to:"reports".concat(e.link),key:e.link},c.a.createElement("div",{className:"report"},c.a.createElement("h3",null,e.title),c.a.createElement("p",null,"Type: ",c.a.createElement("span",null,e.type))))})))))}),Ze=function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];c.a.useEffect((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){"Completed"===e.state&&t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,Drawing:e.drawing,Estimate:e.estimate})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{id:"project-list"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Completed Job List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","Subcontractor","Technician","Vendor","Drawing","Estimate"],data:a}):"No projects")))},We=(a(875),function(){var e=Object(n.useState)([{_id:null,name:"Select"}]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(null),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1];c.a.useEffect((function(){O(!0),j(!0),U({url:"/vendors/getVendors"}).then((function(e){var t=[{_id:null,name:"Select"}];e.map((function(e){t.push({_id:e._id,name:e.name})})),r(t),D(),O(!1)})).catch((function(e){C(!0),O(!1)}))}),[]);var D=function(){j(!1)};return c.a.createElement("div",{id:"vendor-jobs"},N||S?c.a.createElement(Q,{show:h,noHandler:D},S?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Vendor Jobs List"}," "),c.a.createElement(F,null,c.a.createElement("div",{className:"vendor-jobs-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(re,{label:"Select Vendor",name:"vendor",size:"wide",options:a,onChange:function(e){return m(e.target.value)}})),c.a.createElement("br",null),c.a.createElement("div",{className:"field"},c.a.createElement(P,{label:"View Jobs",className:"success",onClick:function(){O(!0),j(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){e.vendor._id===s&&t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,Drawing:e.drawing,Estimate:e.estimate})})),f(t),D(),O(!1)})).catch((function(e){C(!0),O(!1)}))}})))),c.a.createElement("br",null),c.a.createElement("br",null),p&&p.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor","Drawing","Estimate"],data:p}):"No projects"))}),Be=(a(876),function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)([{_id:null,name:"Select"}]),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)({from:"",to:""}),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(null),z=Object(i.a)(D,2),I=z[0],A=z[1];function T(e){var t=e.target,a=t.name,n=t.value;C((function(e){return Object(x.a)({},e,Object($.a)({},a,n))}))}c.a.useEffect((function(){m(!0),r(!0),U({url:"/users/getAllUsers"}).then((function(e){var t=[{_id:null,name:"Select"}];e.map((function(e){t.push({_id:e._id,name:e.name})})),j(t),k(),m(!1)})).catch((function(e){f(!0),m(!1)}))}),[]);var k=function(){r(!1)};return c.a.createElement("div",{id:"user-jobs"},s||p?c.a.createElement(Q,{show:a,noHandler:k},p?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"User Jobs List"}," "),c.a.createElement(F,null,c.a.createElement("div",{className:"user-jobs-form"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(re,{label:"Select User",name:"user",size:"wide",options:h,onChange:function(e){return O(e.target.value)}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"date",name:"from",size:"wide",label:"From DOS",onChange:T})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"date",name:"to",size:"wide",label:"To DOS",onChange:T}))),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement(P,{label:"View Jobs",className:"success",onClick:function(){m(!0),r(!0),H({url:"/projects/getUserProjects",body:{userId:N}}).then((function(e){var t=[];e.map((function(e){var a=new Date(S.from),n=new Date(S.to),c=new Date(e.dos.split("T")[0]);a.getTime()<=c.getTime()&&n.getTime()>=c.getTime()&&t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,DOS:e.dos.split("T")[0],DOC:e.doc.split("T")[0],Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,Drawing:e.drawing,Estimate:e.estimate})})),A(t),k(),m(!1)})).catch((function(e){f(!0),m(!1)}))}})),c.a.createElement("br",null),c.a.createElement("br",null),I&&I.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","DOS","DOC","Subcontractor","Technician","Vendor","Drawing","Estimate"],data:I}):"No projects"))}),Ye=(a(877),function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];c.a.useEffect((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.filter((function(e){return"Contract"===e.projectType})).map((function(e){e._id;t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{id:"project-list"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Contract Jobs List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor"],data:a,title:"Contract Jobs"}):"No projects")))}),Ge=(a(878),function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];c.a.useEffect((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.filter((function(e){return"Contract"===e.projectType&&(new Date(e.adc)-new Date(e.doc))/864e5>0})).map((function(e){e._id;t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,"Actual Date of completion":g(e.adc),Delay:(new Date(e.adc)-new Date(e.doc))/864e5+" days"})})),r(t),v(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a},v=function(){m(!1)};return c.a.createElement("div",{id:"project-list"},p||h?c.a.createElement(Q,{show:s,noHandler:v},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Extended Contract Jobs List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor","Actual Date of completion","Delay"],data:a,title:"Contract Jobs"}):"No projects")))}),Qe=(a(879),function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];c.a.useEffect((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.filter((function(e){return!0===e.jobCertificate})).map((function(e){e._id;t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{id:"project-list"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Jobs with Completion Certificate"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor"],data:a,title:"Contract Jobs"}):"No projects")))}),Ke=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){"Ongoing"===e.state&&t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement(c.a.Fragment,null,p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"In Progress Project List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","Subcontractor","Technician","Vendor"],data:a,title:"Ongoing Projects List"}):"No projects")))},Xe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){"Halt"===e.state&&t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement(c.a.Fragment,null,p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Reports"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","Subcontractor","Technician","Vendor"],data:a,title:"Halted Projects List"}):"No projects")))},$e=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){"Removed"===e.state&&t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement(c.a.Fragment,null,p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Reports"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","Subcontractor","Technician","Vendor"],data:a,title:"Removed Projects List"}):"No projects")))},et=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement(c.a.Fragment,null,p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Reports"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","Notification Number","State","Subcontractor","Technician","Vendor"],data:a,title:"All Projects List (Without PR)"}):"No projects")))},tt=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Dashboard"))},at=a(577),nt=a.n(at),ct=_e.e.create({body:{paddingBottom:30,paddingTop:30,paddingHorizontal:35,flexDirection:"column",backgroundColor:"#eeece1"},image:{justifyContent:"center",marginBottom:20},topHr:{width:"100%",borderBottom:"1 solid black",fontSize:"9",flexDirection:"row",justifyContent:"space-between"},halfWidth:{width:"50%"},heading:{fontSize:11,marginTop:10,marginBottom:10,fontWeight:600},para:{fontSize:9,fontWeight:200,marginLeft:20},thirdWidth:{width:"33.33%",fontSize:9,borderTop:"1 solid black",borderBottom:"1 solid black",height:16,paddingTop:3,paddingLeft:10},row:{flexDirection:"row",backgroundColor:"#d3dfee",boxSizing:"border-box"},row2:{flexDirection:"row",boxSizing:"border-box"},tableHead:{borderTop:"1 solid black",borderBottom:"1 solid black",flexDirection:"row"},fifthWidth:{width:"20%",fontSize:9,borderTop:"1 solid black",borderBottom:"1 solid black",height:16,paddingTop:3,paddingLeft:10},headingRed:{color:"red",fontSize:9,marginTop:10,marginBottom:10,fontWeight:600},signHolder:{flexDirection:"row",boxSizing:"border-box",justifyContent:"space-between",marginTop:150},sign:{alignItems:"center",width:"33.33%",fontSize:9,height:16}}),rt=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a},ot=function(e){return c.a.createElement(_e.a,null,c.a.createElement(_e.d,{size:"A4",style:ct.body,wrap:!0},e.projectDetails.progress.perDayProgress.map((function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(_e.b,{style:ct.image,src:nt.a}),c.a.createElement(_e.f,{style:{textAlign:"right"}},"Date: ",rt(t.dateOfEntry)),c.a.createElement(_e.g,{style:ct.topHr},c.a.createElement(_e.f,{style:ct.halfWidth},"Notification No/Contract No: ",e.projectDetails.notificationNo),c.a.createElement(_e.f,{style:ct.halfWidth},"Vendor: ",e.projectDetails.vendor.name)),c.a.createElement(_e.g,null,c.a.createElement(_e.f,{style:ct.heading},"1.0 Job Description"),c.a.createElement(_e.f,{style:Object(x.a)({},ct.para,{paddingBottom:20})},e.projectDetails.description),c.a.createElement(_e.g,{style:ct.row},c.a.createElement(_e.f,{style:ct.thirdWidth}," Project ID: ",e.projectDetails.projectId),c.a.createElement(_e.f,{style:ct.thirdWidth}," Job Type: ",e.projectDetails.projectType),c.a.createElement(_e.f,{style:ct.thirdWidth}," Technician: ",e.projectDetails.technician.name)),c.a.createElement(_e.g,{style:ct.row2},c.a.createElement(_e.f,{style:ct.thirdWidth}," Area: ",e.projectDetails.area.areaName),c.a.createElement(_e.f,{style:ct.thirdWidth}," Location/Installation: ",e.projectDetails.installation.name),c.a.createElement(_e.f,{style:ct.thirdWidth}," Validity of LCC/LCA: ",rt(e.projectDetails.validityLLC))),c.a.createElement(_e.g,{style:ct.row},c.a.createElement(_e.f,{style:ct.thirdWidth}," DOS: ",rt(e.projectDetails.dos)),c.a.createElement(_e.f,{style:ct.thirdWidth}," DOC: ",rt(e.projectDetails.doc)),c.a.createElement(_e.f,{style:ct.thirdWidth}," Extended DOC: ",rt(e.projectDetails.adc))),c.a.createElement(_e.g,{style:ct.row2},c.a.createElement(_e.f,null)),c.a.createElement(_e.g,{style:ct.topHr},c.a.createElement(_e.f,{style:ct.halfWidth},"Weather: ",e.projectDetails.notificationNo),c.a.createElement(_e.f,{style:ct.halfWidth},"Status: ",e.projectDetails.vendor.name))),c.a.createElement(_e.g,null,c.a.createElement(_e.f,{style:ct.heading},"2.0 Details of work executed"),c.a.createElement(_e.f,{style:Object(x.a)({},ct.para,{paddingBottom:20})},t.detailsOfWork),c.a.createElement(_e.g,{style:ct.row},c.a.createElement(_e.f,{style:ct.thirdWidth}," Today's Progress: ",t.progress),c.a.createElement(_e.f,{style:ct.thirdWidth}," Cummulative Progress: ",function(e,t){for(var a=0,n=0;n<e.length&&(a=e[n].progress+a,e[n]._id!=t);n++);return a}(e.projectDetails.progress.perDayProgress,t._id)),c.a.createElement(_e.f,{style:ct.thirdWidth}," No. of Labours Engaged: ",t.numberOfLabours))),c.a.createElement(_e.g,null,c.a.createElement(_e.f,{style:ct.heading},"3.0 Machinery Utilization"),c.a.createElement(_e.g,{style:ct.tableHead},c.a.createElement(_e.f,{style:ct.thirdWidth}," Type of Machinery"),c.a.createElement(_e.f,{style:ct.thirdWidth}," Description of Machinery"),c.a.createElement(_e.f,{style:ct.thirdWidth}," No. of Units Used")),t.machineryUsed?t.machineryUsed.map((function(e){return c.a.createElement(_e.g,{style:ct.row},c.a.createElement(_e.f,{style:ct.thirdWidth}," ",e.typeOfMachine),c.a.createElement(_e.f,{style:ct.thirdWidth}," ",e.name),c.a.createElement(_e.f,{style:ct.thirdWidth}," ",e.quantity))})):null),c.a.createElement(_e.g,null,c.a.createElement(_e.f,{style:ct.heading},"4.0 Material Consumption Details"),c.a.createElement(_e.g,{style:ct.tableHead},c.a.createElement(_e.f,{style:ct.fifthWidth}," Material"),c.a.createElement(_e.f,{style:ct.fifthWidth}," Unit"),c.a.createElement(_e.f,{style:ct.fifthWidth}," Total Quantity Issued"),c.a.createElement(_e.f,{style:ct.fifthWidth}," Consumed Quantity"),c.a.createElement(_e.f,{style:ct.fifthWidth}," Balance ")),t.machineryUsed?t.materialUsed.map((function(a){return c.a.createElement(_e.g,{style:ct.row},c.a.createElement(_e.f,{style:ct.fifthWidth}," ",a.name),c.a.createElement(_e.f,{style:ct.fifthWidth}," ",a.unit),c.a.createElement(_e.f,{style:ct.fifthWidth}," ",a.quantity),c.a.createElement(_e.f,{style:ct.fifthWidth}," ",a.consumed),c.a.createElement(_e.f,{style:ct.fifthWidth}," ",a.quantity-function(e,t,a){for(var n=0,c=0;c<t.length;c++){for(var r=0;r<t[c].materialUsed.length;r++)e==t[c].materialUsed[r].name&&(n=t[c].materialUsed[r].consumed+n);if(t[c]._id==a)break}return console.log(n),n}(a.name,e.projectDetails.progress.perDayProgress,t._id)))})):null),c.a.createElement(_e.g,null,c.a.createElement(_e.f,{style:ct.heading},"5.0 Other Details:"),c.a.createElement(_e.f,{style:ct.headingRed},"Saftey Remarks:"),c.a.createElement(_e.f,{style:Object(x.a)({},ct.para,{paddingBottom:20})},t.saftey),c.a.createElement(_e.f,{style:ct.headingRed},"Instructions to Vendor:"),c.a.createElement(_e.f,{style:Object(x.a)({},ct.para,{paddingBottom:20})},t.instructionToContractor),c.a.createElement(_e.f,{style:ct.headingRed},"Hinderance:"),c.a.createElement(_e.f,{style:Object(x.a)({},ct.para,{paddingBottom:20})},t.hinderance)),c.a.createElement(_e.g,null,c.a.createElement(_e.g,{style:ct.signHolder},c.a.createElement(_e.g,{style:ct.sign},c.a.createElement(_e.f,null,"Signature of Technician"),c.a.createElement(_e.f,null,"(",e.projectDetails.technician.name,")")),c.a.createElement(_e.g,{style:ct.sign},c.a.createElement(_e.f,null,"Signature of JE"),c.a.createElement(_e.f,null,"(",e.projectDetails.jrEngineer.name,")")),c.a.createElement(_e.g,{style:ct.sign},c.a.createElement(_e.f,null,"Signature of Engineer"),c.a.createElement(_e.f,{style:{marginLeft:"0 auto"}},"(",e.projectDetails.engineer.name,")")))),c.a.createElement(_e.f,{break:!0}))}))))},it=["Project Id","Download"],lt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=(d[0],d[1]),f=Object(n.useState)(!1),b=Object(i.a)(f,2),E=(b[0],b[1]),h=Object(n.useState)(!1),j=Object(i.a)(h,2),g=(j[0],j[1]),v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1];Object(n.useEffect)((function(){E(!0),p(!0),U({url:"/projects/getProjectList"}).then((function(e){console.log(e);var t=[];e.map((function(e){t.push({"Project Id":e.projectId,Download:c.a.createElement(P,{label:"Download report",onClick:function(){m(e),w(!0)}})})})),r(t),y(),E(!1)})).catch((function(e){g(!0),E(!1)}))}),[]);var y=function(){p(!1)};return c.a.createElement(c.a.Fragment,null,O?c.a.createElement(F,null,c.a.createElement(_e.c,{height:"800",width:"1200",className:"app"},c.a.createElement(ot,{projectDetails:s,docName:"Work Order"}))):c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:it,data:a,title:"All Projects List (Without PR)"}):"No projects")))},st=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){var t=[];e.map((function(e){var a={area:e.area.areaName,description:e.description.length>100?e.description.slice(0,100):e.description,doc:new Date(e.doc).toDateString(),dos:new Date(e.dos).toDateString(),drawing:e.drawing,estimate:e.estimate,notificationNo:e.notificationNo,poNumber:e.poNumber,prNumber:e.prNumber,projectId:e.projectId,projectType:e.projectType,showcause:e.showcause?"Issued":"Not Issued",showcauseDate:e.showcause?e.showcauseDate:"-",state:e.state,subcontractorName:e.subcontractorName?e.subcontractorName:"-",subcontractorNumber:e.subcontractorNumber?e.subcontractorNumber:"-",technician:e.technician.name,validityLLC:new Date(e.validityLLC).toDateString(),vendor:e.vendor.name,"Jr. Engineer":e.jrEngineer.name,zone:e.zone.zoneName};t=[].concat(Object(ee.a)(t),[a])})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{className:"vendorList"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"All Projects"}),c.a.createElement(F,null,c.a.createElement(Ne,{title:"Project List",data:a,headings:["area","description","doc","dos","drawing","estimate","notificationNo","poNumber","prNumber","projectId","projectType","showcause","showcauseDate","state","subcontractorName","subcontractorNumber","technician","validityLLC","vendor","Jr. Engineer","zone"]})))},mt=(a(880),function(){var e=c.a.useState([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)([{_id:null,name:"Select"}]),y=Object(i.a)(w,2),S=y[0],C=y[1];Object(n.useEffect)((function(){f(!0),m(!0);var e=[{_id:null,name:"Select"}];L.a.get(M+"/users/getAllUsers").then((function(t){t.data.map((function(t){"Jr. Engineer"===t.designation&&e.push({_id:t.name,name:t.name})})),C(e),r(null),D(),f(!1)})).catch((function(e){O(!0),f(!1)}))}),[]),Object(n.useEffect)((function(){f(!0),m(!0),L.a.get(M+"/projects/getProjectList").then((function(e){var t=[];e.data.map((function(e){if(e.jrEngineer.name===h){var a={"Jr. Engineer":e.jrEngineer.name,area:e.area.areaName,description:e.description.length>100?e.description.slice(0,100):e.description,doc:new Date(e.doc).toDateString(),dos:new Date(e.dos).toDateString(),drawing:e.drawing,estimate:e.estimate,notificationNo:e.notificationNo,poNumber:e.poNumber,prNumber:e.prNumber,projectId:e.projectId,projectType:e.projectType,showcause:e.showcause?"Issued":"Not Issued",showcauseDate:e.showcause?e.showcauseDate:"-",state:e.state,subcontractorName:e.subcontractorName?e.subcontractorName:"-",subcontractorNumber:e.subcontractorNumber?e.subcontractorNumber:"-",technician:e.technician.name,validityLLC:new Date(e.validityLLC).toDateString(),vendor:e.vendor.name,zone:e.zone.zoneName};t=[].concat(Object(ee.a)(t),[a])}})),r(t),D(),f(!1)})).catch((function(e){O(!0),f(!1)}))}),[h]);var D=function(){m(!1)};return c.a.createElement("div",{className:"vendorList"},p||N?c.a.createElement(Q,{show:s,noHandler:D},N?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"JE Wise Jobs"}),c.a.createElement(F,null,c.a.createElement("div",{className:"JEselect"},c.a.createElement(re,{label:"Jr. Engineer*",name:"area",options:S,size:"wide",onChange:function(e){j(e.target.value)}})),a?c.a.createElement(Ne,{title:"JE Wise Jobs",data:a,headings:["Jr. Engineer","area","description","doc","dos","drawing","estimate","notificationNo","poNumber","prNumber","projectId","projectType","showcause","showcauseDate","state","subcontractorName","subcontractorNumber","technician","validityLLC","vendor","zone"]}):"Please Select a Jr. Engineer"))}),ut=function(){var e=c.a.useState([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)([{_id:null,name:"Select"}]),y=Object(i.a)(w,2),S=y[0],C=y[1];Object(n.useEffect)((function(){f(!0),m(!0);var e=[{_id:null,name:"Select"}];L.a.get(M+"/installations/allInstallations").then((function(t){t.data.map((function(t){e.push({_id:t.name,name:t.name})})),C(e),D(),f(!1)})).catch((function(e){O(!0),f(!1)})),r(null)}),[]),Object(n.useEffect)((function(){f(!0),m(!0),L.a.get(M+"/projects/getProjectList").then((function(e){var t=[];e.data.map((function(e){if(e.installation.name===h){var a={Installation:e.installation.name,area:e.area.areaName,description:e.description.length>100?e.description.slice(0,100):e.description,doc:new Date(e.doc).toDateString(),dos:new Date(e.dos).toDateString(),drawing:e.drawing,estimate:e.estimate,notificationNo:e.notificationNo,poNumber:e.poNumber,prNumber:e.prNumber,projectId:e.projectId,projectType:e.projectType,showcause:e.showcause?"Issued":"Not Issued",showcauseDate:e.showcause?e.showcauseDate:"-",state:e.state,subcontractorName:e.subcontractorName?e.subcontractorName:"-",subcontractorNumber:e.subcontractorNumber?e.subcontractorNumber:"-",technician:e.technician.name,validityLLC:new Date(e.validityLLC).toDateString(),vendor:e.vendor.name,zone:e.zone.zoneName};t=[].concat(Object(ee.a)(t),[a])}})),r(t),D(),f(!1)})).catch((function(e){O(!0),f(!1)}))}),[h]);var D=function(){m(!1)};return c.a.createElement("div",{className:"vendorList"},p||N?c.a.createElement(Q,{show:s,noHandler:D},N?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Installation Wise Jobs"}),c.a.createElement(F,null,c.a.createElement("div",{className:"JEselect"},c.a.createElement(re,{label:"Installation*",name:"area",options:S,size:"wide",onChange:function(e){j(e.target.value)}})),a?c.a.createElement(Ne,{title:"Installation Wise Jobs",data:a,headings:["Installation","area","description","doc","dos","drawing","estimate","notificationNo","poNumber","prNumber","projectId","projectType","showcause","showcauseDate","state","subcontractorName","subcontractorNumber","technician","validityLLC","vendor","zone"]}):"Please Select an Installation"))},dt=function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];c.a.useEffect((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){console.log(e);var t=[];e.filter((function(e){return e.subcontractorName})).map((function(e){e._id;t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName,Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null})})),console.log(t),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1),console.log(e)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{id:"project-list"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Vendor Engaging Sub-Contractor Job List"}),c.a.createElement(F,null,console.log(a),c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor"],data:a,title:"Sub-Contracted Job List"}):"No projects")))},pt=function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];c.a.useEffect((function(){f(!0),m(!0),U({url:"/projects/getProjectList"}).then((function(e){console.log(e[10]);var t=[];e.filter((function(e){return(new Date(e.adc)-new Date(e.doc))/864e5>0})).map((function(e){t.push({"Project Type":e.projectType,"Project Id":e.projectId,Zone:e.zone?e.zone.zoneName:"",Area:e.area?e.area.areaName:"","PO Number":e.poNumber,"PR Number":e.prNumber,"Notification Number":e.notificationNo,State:e.state,Subcontractor:e.subcontractorName?"Yes":"No",Technician:e.technician?e.technician.name:null,Vendor:e.vendor?e.vendor.name:null,"Date of Completion":g(e.doc),"Actual Date of completion":g(e.adc),Delay:(new Date(e.adc)-new Date(e.doc))/864e5+" days"})})),console.log(t),r(t),v(),f(!1)})).catch((function(e){j(!0),f(!1),console.log(e)}))}),[]);var g=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a},v=function(){m(!1)};return c.a.createElement("div",{id:"project-list"},p||h?c.a.createElement(Q,{show:s,noHandler:v},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Delayed Jobs List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"project-list-table"},a&&a.length>0?c.a.createElement(Ne,{headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","State","Subcontractor","Technician","Vendor","Date of Completion","Actual Date of completion","Delay"],data:a,title:"Delayed Jobs"}):"No projects")))},ft=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1],g=function(){m(!1)};return Object(n.useEffect)((function(){f(!0),m(!0),L.a.get(M+"/notifications/getAllNotifications").then((function(e){var t=[],n=[];t=e.data,console.log(e.data);var c=1;t.map((function(e){console.log(e);var t={};t["SL No"]=c,c+=1;var a=e.isJob?"JOB ASSIGNED":"JOB NOT ASSIGNED";t["Project Type"]=e.projectType,t["Project ID"]=e.projectId,t["Notification/Contract No"]=e.notificationNumber,t.Area=e.area.areaName,t.Installation=e.installation.name,t.Action=a,n=[].concat(Object(ee.a)(n),[t])})),r(n),console.log(a),g(),f(!1)})).catch((function(e){j(!0),f(!1),console.log(e)}))}),[]),c.a.createElement("div",{className:"notificationList"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Notifications List"}),c.a.createElement(F,null,c.a.createElement("div",{class:"notificationListTable"},c.a.createElement(Ne,{headings:["SL No","Project Type","Project ID","Notification/Contract No","Area","Installation","Action"],data:a}))))},bt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1];Object(n.useEffect)((function(){f(!0),m(!0);var e=[];L.a.get(M+"/projects/getProjectList").then((function(t){t.data.map((function(t){if(t.showcause){var a={"Project Type":t.projectType,"Project Id":t.projectId,Zone:t.zone?t.zone.zoneName:"",Area:t.area?t.area.areaName:"","PO Number":t.poNumber,"PR Number":t.prNumber,"Notification Number":t.notificationNo,Subcontractor:t.subcontractorName?"Yes":"No",Technician:t.technician?t.technician.name:null,Vendor:t.vendor?t.vendor.name:null,"View Show Cause Notice":c.a.createElement("div",null,c.a.createElement(_.b,{to:"/show-cause/"+t._id},c.a.createElement(oe,{className:"success",hint:"View show cause",iconClass:"fa fa-sticky-note-o"})))};e=[].concat(Object(ee.a)(e),[a])}})),r(e),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);var g=function(){m(!1)};return c.a.createElement("div",{className:"projectList"},p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(te,{formName:"Project List (Show Cause Notice Issued)"}),c.a.createElement(F,null,c.a.createElement(Ne,{data:a,headings:["Project Type","Project Id","Zone","Area","PO Number","PR Number","Notification Number","Subcontractor","Technician","Vendor","View Show Cause Notice"]})))},Et=function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1],g=function(){m(!1)};return c.a.useEffect((function(){f(!0),m(!0),U({url:"/material/getMaterialList"}).then((function(e){var t=[],a=1;e.map((function(e){var n={};n["SL No"]=a,a+=1,n["Description of Material"]=e.description,n["Material Code"]=e.code,n.Unit=e.unit,n["Cumulative Issued"]=0,n["Cumulative Consumed"]=0,console.log(n),t=[].concat(Object(ee.a)(t),[n])})),U({url:"/projects/getProjectList"}).then((function(e){e.forEach((function(e){e.detailMaterials&&e.detailMaterials.forEach((function(e){t.forEach((function(t){e.material.description===t["Description of Material"]&&(t["Cumulative Issued"]=t["Cumulative Issued"]+e.quantity)}))})),e.progress&&e.progress.perDayProgress.forEach((function(e){e.materialUsed.forEach((function(e){t.forEach((function(t){e.name===t["Description of Material"]&&(t["Cumulative Consumed"]=t["Cumulative Consumed"]+e.consumed)})),t.forEach((function(e){e["Cumulative Issued"]>e["Cumulative Consumed"]&&(e.Difference=e["Cumulative Issued"]-e["Cumulative Consumed"])}))}))}))})),r(t),g(),f(!1)})).catch((function(e){j(!0),f(!1)}))})).catch((function(e){j(!0),f(!1)}))}),[]),c.a.createElement(c.a.Fragment,null,p||h?c.a.createElement(Q,{show:s,noHandler:g},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(F,null,c.a.createElement(te,{formName:"Cumulative Issued - Cumulative Consumed (Total)"}),a&&a.length?c.a.createElement(Ne,{headings:["SL No","Description of Material","Material Code","Unit","Cumulative Issued","Cumulative Consumed","Difference"],data:a,title:"Cumulative Material Total"}):"No Materials"))},ht=function(){var e=c.a.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)([]),y=Object(i.a)(w,2),S=y[0],C=y[1],D=function(){m(!1)};c.a.useEffect((function(){f(!0),m(!0);var e=[];U({url:"/projects/getProjectList"}).then((function(t){e=[{_id:"Select Project ID",name:"Select Project ID"}],t.forEach((function(t){var a={};a._id=t._id,a.name=t.projectId,e=[].concat(Object(ee.a)(e),[a])})),console.log(e),C(e),D(),f(!1)})).catch((function(e){j(!0),f(!1)}))}),[]);return c.a.createElement(c.a.Fragment,null,p||h?c.a.createElement(Q,{show:s,noHandler:D},h?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(K,null)):null,c.a.createElement(F,null,c.a.createElement(re,{label:"Project ID",placeholder:"Enter Project ID",size:"wide",name:"project-id",options:S,onChange:function(e){return O(e.target.value)}}),c.a.createElement("div",{style:{marginBottom:"20px"}},c.a.createElement(P,{label:"View Detailed cumulative Material List",className:"success",onClick:function(){f(!0),m(!0),U({url:"/projects/projectDetails?projectId="+N}).then((function(e){console.log(e);var t=[],a=1;e.materials.forEach((function(n){var c=n.material,r={};r["SL No"]=a,a+=1,r["Description of Material"]=c.description,r["Material Code"]=c.code,r.Unit=c.unit,r["Cumulative Issued"]=0,r["Cumulative Consumed"]=0,console.log(r),t=[].concat(Object(ee.a)(t),[r]),e.detailMaterials&&e.detailMaterials.forEach((function(e){t.forEach((function(t){e.material.description===t["Description of Material"]&&(t["Cumulative Issued"]=t["Cumulative Issued"]+e.quantity)}))})),e.progress&&e.progress.perDayProgress.forEach((function(e){e.materialUsed.forEach((function(e){t.forEach((function(t){e.name===t["Description of Material"]&&(t["Cumulative Consumed"]=t["Cumulative Consumed"]+e.consumed)})),t.forEach((function(e){e["Cumulative Issued"]>e["Cumulative Consumed"]&&(e.Difference=e["Cumulative Issued"]-e["Cumulative Consumed"])}))}))}))})),r(t),D(),f(!1)})).catch((function(e){j(!0),f(!1)}))}})),c.a.createElement(te,{formName:"Cumulative Issued - Cumulative Consumed (Total)"}),a&&a.length?c.a.createElement(Ne,{headings:["SL No","Description of Material","Material Code","Unit","Cumulative Issued","Cumulative Consumed","Difference"],data:a,title:"Cumulative Material Job-Wise"}):"Please Enter a Valid Project ID"))},jt=function(e){var t=c.a.useState(!0),a=Object(i.a)(t,2),n=a[0];a[1];return c.a.createElement(Z.d,null,c.a.createElement(W,{path:"/dashboard",component:tt,isAuth:e.isAuth}),c.a.createElement(W,{path:"/user",component:ue,isAuth:n}),c.a.createElement(W,{path:"/users",component:he,isAuth:n}),c.a.createElement(W,{path:"/vendor",component:ge,isAuth:n}),c.a.createElement(W,{path:"/vendor-list",component:Oe,isAuth:n}),c.a.createElement(W,{path:"/addArea",component:we,isAuth:n}),c.a.createElement(W,{path:"/installation",component:ye,isAuth:n}),c.a.createElement(W,{path:"/show-cause/:id",component:He,isAuth:n}),c.a.createElement(W,{path:"/add-material",component:Se,isAuth:n}),c.a.createElement(W,{path:"/add-machinery",component:Ce,isAuth:n}),c.a.createElement(W,{path:"/projects",component:De,isAuth:n}),c.a.createElement(W,{path:"/project-details/:id",component:Ie,isAuth:n}),c.a.createElement(W,{path:"/editProject/:projectId",component:Te,isAuth:n}),c.a.createElement(W,{path:"/techdocs",component:ke,isAuth:n}),c.a.createElement(W,{path:"/edit-user/:email",component:qe,isAuth:n}),c.a.createElement(W,{path:"/reports",component:Je,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/report-vendor-list",component:Ve,isAuth:n}),c.a.createElement(W,{path:"/reports/report-show-cause",component:Fe,isAuth:n}),c.a.createElement(W,{path:"/reports/all-projects",component:st,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/project-show-cause",component:bt,isAuth:n}),c.a.createElement(W,{path:"/reports/in-progress-projects",component:Ke,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/jobComplete",component:Ze,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/contract-jobs",component:Ye,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/JobsJE",component:mt,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/JobsInstallations",component:ut,isAuth:n}),c.a.createElement(W,{path:"/reports/halted-projects",component:Xe,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/vendorJobs",component:We,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/extended-jobs",component:Ge,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/removed-projects",component:$e,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/all-projects-nopr",component:et,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/userJobs",component:Be,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/job-certificate",component:Qe,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/tallyBookReport",component:lt,isAuth:n}),c.a.createElement(W,{path:"/reports/subcontracted-jobs",component:dt,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/delayed-jobs",component:pt,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/work-against-notification",component:ft,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/cumulative-total",component:Et,exact:!0,isAuth:n}),c.a.createElement(W,{path:"/reports/cumulative-total-job",component:ht,exact:!0,isAuth:n}))},gt=(a(881),a(882),function(e){var t=e.contents.map((function(e){return c.a.createElement("tr",{key:Math.random()},Object.keys(e).map((function(t){return c.a.createElement("td",{key:t+e[t]},e[t])})))}));return c.a.createElement("div",null,c.a.createElement("table",{className:"unsortedTable",style:{width:"100%"}},c.a.createElement("thead",null,c.a.createElement("tr",null,Object.keys(e.contents[0]).map((function(e){return c.a.createElement("th",{className:"unsortedTable-header",key:e},e)})))),c.a.createElement("tbody",null,t)))}),vt=(a(883),function(e){return c.a.createElement("table",{className:"blankTable",id:"tableBlank"},c.a.createElement("thead",null,c.a.createElement("tr",null,e.headings.map((function(e){return c.a.createElement("th",null,e)})))),c.a.createElement("tbody",null,c.a.createElement("tr",null,e.headings.map((function(e){return c.a.createElement("td",null)})))))}),Nt=function(e){var t=c.a.useState({}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=c.a.useState({}),s=Object(i.a)(l,2),m=s[0],u=s[1],d=c.a.useState({}),p=Object(i.a)(d,2),f=p[0],b=p[1],E=c.a.useState([]),h=Object(i.a)(E,2),j=h[0],g=h[1],v=c.a.useState([]),N=Object(i.a)(v,2),O=N[0],w=N[1],y=c.a.useState([]),S=Object(i.a)(y,2),C=S[0],D=S[1],z=c.a.useState({}),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),R=Object(i.a)(k,2),H=R[0],V=R[1],q=Object(n.useState)(!1),J=Object(i.a)(q,2),Z=J[0],W=J[1],B=Object(n.useState)(null),Y=Object(i.a)(B,2),G=Y[0],X=Y[1],ae=Object(n.useState)(""),ce=Object(i.a)(ae,2),le=ce[0],se=ce[1],me=Object(n.useState)(!1),ue=Object(i.a)(me,2),de=ue[0],pe=ue[1],fe=Object(n.useState)(!1),be=Object(i.a)(fe,2),Ee=be[0],he=be[1],ge=Object(n.useState)(!1),ve=Object(i.a)(ge,2),Ne=ve[0],Oe=ve[1],we=c.a.useState({type:"",name:"",number:""}),ye=Object(i.a)(we,2),Se=ye[0],Ce=ye[1],De=c.a.useState({}),ze=Object(i.a)(De,2),Ie=(ze[0],ze[1],c.a.useState([])),Ae=Object(i.a)(Ie,2),Pe=Ae[0],Te=Ae[1],ke=c.a.useState([]),_e=Object(i.a)(ke,2),xe=_e[0],Re=_e[1],Le=c.a.useState(),Me=Object(i.a)(Le,2),Ue=Me[0],He=Me[1],Ve=c.a.useState(),Fe=Object(i.a)(Ve,2),qe=Fe[0],Je=Fe[1],Ze=function(){W(!1)},We=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a};c.a.useEffect((function(){pe(!0),W(!0),U({url:"/projects/projectDetails?projectId="+e.match.params.projectId}).then((function(t){var a=t.progress.perDayProgress.filter((function(t){return JSON.stringify(t._id)===JSON.stringify(e.match.params.dateId)}));"Engineer"===localStorage.getItem("Role")?V(a[0].approvedByEngineer):"Jr. Engineer"===localStorage.getItem("Role")?V(a[0].approvedByJe):"Technician"===localStorage.getItem("Role")&&V(a[0].approvedByTech);var n=[];a[0].machineryUsed.map((function(e){var t={};t["Type Of Machinery"]=e.typeOfMachine,t["Description Machinery"]=e.name,t["No. of Units Of Machinery Used"]=e.quantity,t.Actions=c.a.createElement(oe,{iconClass:"fas fa-trash-alt",className:"success",onClick:function(){return Be(e.name)},hint:"Delete"}),n=[].concat(Object(ee.a)(n),[t])})),Te(n);var r=[];r.push({name:"Select Material",_id:"0000",unit:"",quantity:0}),t.materials.map((function(e){r.push({name:e.material.description,_id:e._id,unit:e.material.unit,quantity:e.cummulative})}));var i=0;t.progress.perDayProgress.map((function(e){i+=e.progress})),w(a[0].materialUsed),u(Object(x.a)({},t.progress,{totalProgress:i})),o(a[0]),b(Object(x.a)({},t,{progress:{}})),D(r)})).catch((function(e){})),U({url:"/machinery/getMachineryList"}).then((function(e){var t=[];t.push({name:"Select Machinery",_id:"0000"}),e.map((function(e){t.push({name:e.description,_id:e.description})})),g(t),Ze(),pe(!1)})).catch((function(e){he(!0),pe(!1)}))}),[]),c.a.useEffect((function(){pe(!0),W(!0),U({url:"/projects/projectDetails?projectId="+e.match.params.projectId}).then((function(t){var a=t.progress.perDayProgress.filter((function(t){return JSON.stringify(t._id)===JSON.stringify(e.match.params.dateId)}));"Engineer"===localStorage.getItem("Role")?V(a[0].approvedByEngineer):"Jr. Engineer"===localStorage.getItem("Role")?V(a[0].approvedByJe):"Technician"===localStorage.getItem("Role")&&V(a[0].approvedByTech);var n=[];a[0].machineryUsed.map((function(e){var t={};t["Type Of Machinery"]=e.typeOfMachine,t["Description Machinery"]=e.name,t["No. of Units Of Machinery Used"]=e.quantity,t.Actions=c.a.createElement(oe,{iconClass:"fas fa-trash-alt",className:"success",onClick:function(){return Be(e.name)},hint:"Delete"}),n=[].concat(Object(ee.a)(n),[t])})),Te(n);var r=[];r.push({name:"Select Material",_id:"0000",unit:"",quantity:0}),t.materials.map((function(e){r.push({name:e.material.description,_id:e._id,unit:e.material.unit,quantity:e.cummulative})}));var i=0;t.progress.perDayProgress.map((function(e){i+=e.progress})),w(a[0].materialUsed),u(Object(x.a)({},t.progress,{totalProgress:i})),o(a[0]),b(Object(x.a)({},t,{progress:{}})),D(r)})).catch((function(e){})),U({url:"/machinery/getMachineryList"}).then((function(e){var t=[];t.push({name:"Select Machinery",_id:"0000"}),e.map((function(e){t.push({name:e.description,_id:e.description})})),g(t),Ze(),pe(!1)})).catch((function(e){he(!0),pe(!1)}))}),[Ne]),c.a.useEffect((function(){var e={};C.map((function(t){e=Object(x.a)({},e,Object($.a)({},t._id,0))})),m.perDayProgress&&m.perDayProgress.map((function(t){t.materialUsed.map((function(t){O.map((function(a){t._id===a._id&&(e[a._id]=parseInt(e[a._id])+parseInt(t.consumed))}))}))})),Re(e)}),[C,O]);var Be=function(e){var t=Pe.filter((function(t){return t["Description Machinery"]!==e}));Te(t)},Ye=[];Pe.map((function(e){Ye.push({"Type Of Machinery":e["Type Of Machinery"],"Description Machinery":e["Description Machinery"],"No. of Units Of Machinery Used":e["No. of Units Of Machinery Used"],Action:c.a.createElement(oe,{iconClass:"fas fa-trash-alt",className:"success",onClick:function(){return Be(e["Description Machinery"])},hint:"Delete"})})}));var Ge=[];O.map((function(e){Ge.push({Material:e.name,Unit:e.unit,"Total Issued Unit":e.quantity,Comsumed:e.consumed,"Balance Quantity":e.quantity-xe[e._id]})}));var Qe=function(){var t=[];pe(!0),Pe.map((function(e){t.push({typeOfMachine:e["Type Of Machinery"],name:e["Description Machinery"],quantity:parseInt(e["No. of Units Of Machinery Used"])})}));var a=Object(x.a)({},r,{materialUsed:O,machineryUsed:t}),n=Object(x.a)({},m),c=[];m.perDayProgress.map((function(e){e._id==a._id?c.push(a):c.push(e)})),n=Object(x.a)({},n,{perDayProgress:c}),L.a.patch(M+"/workProgress/updateWorkProgress/"+n._id,n).then((function(t){Ze(),pe(!1),e.history.goBack()})).catch((function(e){he(!0),pe(!1),console.log(e)}))};return c.a.createElement("div",{id:"tally-book"},c.a.createElement(Q,{show:Z,noHandler:Ze},de?c.a.createElement(K,null):Ee?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:G,noHandler:Ze,question:le})),c.a.createElement(te,{formName:"Tally Book"}),c.a.createElement(F,null,H?c.a.createElement("p",{style:{color:"red"}},"You have already verified the progress for this day. You can only view it now."):null,c.a.createElement("div",{className:"project-details"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"date-of-entry",label:"Date OF Entry",size:"wide",value:We(r.dateOfEntry),disabled:"true"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"project-type",label:"Project Type",value:f.projectType,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"project-id",label:"Project ID",value:f.projectId,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"notification",label:"Notification",value:f.notificationNo,size:"wide",disabled:"true"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"installation",label:"Installation",value:f.installation?f.installation.name:null,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"area",label:"Area",value:f.area?f.area.areaName:null,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"zone",label:"Zone",value:f.zone?f.zone.zoneName:null,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,Object($.a)({name:"dos",label:"DOS",size:"wide",value:We(f.dos),disabled:"date"},"disabled","true"))),c.a.createElement("div",{className:"field"},c.a.createElement(ne,Object($.a)({name:"doc",label:"DOC",size:"wide",value:We(f.doc),disabled:"date"},"disabled","true"))),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"assign-to-vendor",label:"Assign To Vendor",value:f.vendor?f.vendor.name:null,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"assign-to-technician",label:"Assign To Technician",value:f.technician?f.technician.name:null,disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"assign-to-je",label:"Assign to Jr. Engineer",value:f.jrEngineer?f.jrEngineer.name:null,size:"wide",disabled:"true"})),f.subcontractorName&&0!==f.subcontractorName.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subcontractor-name",label:"Subcontractor Name",value:"abc ltd.",disabled:"true",size:"wide"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subcontractor-phone",label:"Subcontractor Phone No",value:"1234567890",size:"wide",disabled:"true"}))):null),c.a.createElement(je,{name:"description",label:"Description Of Project",rows:"100",value:f.description,size:"wide",disabled:"true"}),c.a.createElement("div",{className:"daily-progress-form"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"assign-to-engineer",label:"Assign To Engineer",value:f.engineer?f.engineer.name:null,size:"wide",disabled:"true"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"work-permitted",label:"Work Permitted",value:"Yes",size:"wide",disabled:"true"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subcontractor-engaged",label:"Subcontractor Engaged",value:f.subcontractorName&&0!==f.subcontractorName.length?"Yes":"No",size:"wide",disabled:"true"})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{label:"Status",size:"wide",options:[{name:"Select Current Status"},{name:"Ongoing"},{name:"Halt"},{name:"Completed"}],onChange:function(e){}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"upload-techinical-document",label:"Upload Techinical Document",type:"file",onChange:function(e){var t=e.target.files[0];He(t)}}),c.a.createElement("div",{style:{marginTop:"-15px",marginBottom:"25px"}},H?null:c.a.createElement(P,{label:"Upload",className:"success",onClick:function(){pe(!0);var e=Ue,t=new FormData;t.append("file",e),L.a.patch(M+"/workProgress/tally/techDoc/"+r._id+"/"+m._id,t).then((function(e){console.log(e),Ze(),pe(!1),He(null),Oe(!Ne)})).catch((function(e){console.log(e),he(!0),pe(!1)}))}}),c.a.createElement(_.b,{to:{pathname:"/tallyDocs",state:r}},c.a.createElement(P,{label:"View All",className:"success"})))),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"upload-stie-photograph",label:"Upload Site Photograph",size:"wide",type:"file",onChange:function(e){var t=e.target.files[0];Je(t)}}),c.a.createElement("div",{style:{marginTop:"-15px",marginBottom:"25px"}},H?null:c.a.createElement(P,{label:"Upload",className:"success",onClick:function(){pe(!0);var e=new FormData;e.append("file",qe),L.a.patch(M+"/workProgress/tally/sitePhoto/"+r._id+"/"+m._id,e).then((function(e){Ze(),pe(!1),Je(null),Oe(!Ne)})).catch((function(e){he(!0),pe(!1)}))}}),c.a.createElement(_.b,{to:{pathname:"/tallyDocs",state:r}},c.a.createElement(P,{label:"View All",className:"success"})))),c.a.createElement("div",{className:"field"},c.a.createElement(re,{label:"Status",size:"wide",options:[{name:"Select Weather"},{name:"Rainy"},{name:"Clear"}],onChange:function(e){o(Object(x.a)({},r,{weather:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{label:"Number Of Labour Engagged",size:"wide",value:r.numberOfLabours,onChange:function(e){o(Object(x.a)({},r,{numberOfLabours:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{label:"Progress Till Now in (%)",size:"wide",value:m.totalProgress,disabled:"true"})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{label:"Today's Progress in (%)",size:"wide",value:r.progress,onChange:function(e){o(Object(x.a)({},r,{progress:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(je,{label:"Instruction To Contractor",size:"wide",value:r.instructionToContractor,onChange:function(e){o(Object(x.a)({},r,{instructionToContractor:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(je,{label:"Saftey/Remarks",size:"wide",value:r.saftey,onChange:function(e){o(Object(x.a)({},r,{saftey:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(je,{label:"Hindrance",size:"wide",value:r.hinderance,onChange:function(e){o(Object(x.a)({},r,{hinderance:e.target.value}))}})),c.a.createElement("div",{className:"field"},c.a.createElement(je,{label:"Details of daily work executed",size:"wide",value:r.detailsOfWork,onChange:function(e){o(Object(x.a)({},r,{detailsOfWork:e.target.value}))}}))),c.a.createElement("h2",null,"Machinery used"),0!==Pe.length?c.a.createElement(gt,{contents:Ye}):c.a.createElement(vt,{headings:["S. No.","Type Of Machinery","Description Machinery","No. of Units Of Machinery Used","Actions"]}),c.a.createElement("div",{className:"machinery-user-form"},c.a.createElement("p",null,"Type Of Machinery"),c.a.createElement(re,{size:"wide",options:[{name:"Select type of machinary",_id:"Select type of machinary"},{name:"Company machinary",_id:"Company machinary"},{name:"Contractor machinary",_id:"Contractor machinary"}],name:"type",onChange:function(e){Ce(Object(x.a)({},Se,{type:e.target.value}))}}),c.a.createElement("p",null,"Description Machinery"),c.a.createElement(re,{size:"wide",name:"name",options:j,onChange:function(e){Ce(Object(x.a)({},Se,{name:e.target.value}))}}),c.a.createElement("p",null,"No. of Units Of Machinery User"),c.a.createElement("div",null,c.a.createElement(ne,{size:"wide",name:"number",onChange:function(e){Ce(Object(x.a)({},Se,{number:e.target.value}))}}))),c.a.createElement("center",null,H?null:c.a.createElement(P,{className:"success",label:"Add",onClick:function(){return function(){var e=[];e.push({"Type Of Machinery":Se.type,"Description Machinery":Se.name,"No. of Units Of Machinery Used":Se.number}),Te(e.concat(Pe))}()}})),c.a.createElement("div",{style:{display:"flex",flexFlow:"row",marginTop:"80px"}},c.a.createElement("h2",null,"Material Used"),c.a.createElement("div",{style:{marginLeft:"15px",marginTop:"17px"}},c.a.createElement(_.b,{to:"/materials/"+e.match.params.projectId},c.a.createElement(P,{label:"View issued materials list",className:"success"})))),Ge.length>0?c.a.createElement(gt,{contents:Ge}):null,c.a.createElement("div",{className:"material-user-form"},c.a.createElement("p",{style:{marginTop:"30px"}},"Material"),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"}},c.a.createElement(re,{size:"wide",options:C,onChange:function(e){var t={};C.map((function(a){a._id==e.target.value&&(t={name:a.name,quantity:a.quantity,unit:a.unit})})),T(Object(x.a)({},A,{material:e.target.value,name:t.name,quantity:t.quantity,unit:t.unit}))}})),c.a.createElement("p",null,"Total Unit issued"),c.a.createElement("p",null,A.material?C.filter((function(e){return e._id==A.material}))[0].quantity+" "+C.filter((function(e){return e._id==A.material}))[0].unit:null),c.a.createElement("p",{style:{marginTop:"30px"}},"Consumend"),c.a.createElement("div",null,c.a.createElement(ne,{size:"wide",onChange:function(e){T(Object(x.a)({},A,{consumed:e.target.value}))}}))),c.a.createElement("center",null,H?null:c.a.createElement(P,{className:"success",label:"Add",onClick:function(){var e=C.filter((function(e){return e._id==A.material}))[0],t=Object(ee.a)(O),a=!1;if(t.map((function(e){e._id==A.material&&(a=!0,e.consumed=parseInt(e.consumed)+parseInt(A.consumed),console.log("Here ==> "+e.consumed))})),a){var n=Object(x.a)({},r);n.materialUsed=t;var c=Object(x.a)({},m);c.perDayProgress.map((function(e){e._id===r._id&&(e.materialUsed=t)})),u(c),o(n),w(t)}else{var i=Object(x.a)({},r);i.materialUsed=[Object(x.a)({},e,{consumed:A.consumed})].concat(O);var l=Object(x.a)({},m);l.perDayProgress.map((function(t){t._id===r._id&&(t.materialUsed=[Object(x.a)({},e,{consumed:A.consumed})].concat(O))})),u(l),o(i),w([Object(x.a)({},e,{consumed:A.consumed})].concat(O))}}})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement("br",null),H&&"Completed"!==f.state?null:c.a.createElement(P,{className:"success",label:"Submit",onClick:function(){he(!1),X((function(){return function(){return Qe()}})),se("Do you want submit this day's progress?"),W(!0)}})))},Ot=(a(884),function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)([]),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(null),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)(""),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),_=Object(i.a)(k,2),R=_[0],U=_[1],H=Object(n.useState)(!1),V=Object(i.a)(H,2),q=V[0],J=V[1],Z=Object(n.useState)([]),W=Object(i.a)(Z,2),B=W[0],Y=W[1],G=Object(n.useState)(),X=Object(i.a)(G,2),$=X[0],ee=X[1];Object(n.useEffect)((function(){U(!0),w(!0),L.a.get(M+"/areas/getAreas").then((function(e){var t=[],a=[];e.data.map((function(e){t.push({_id:e._id,zones:e.zones,areaName:e.areaName,installations:e.installations}),a.push({_id:e._id,name:e.areaName})})),u(t);var n=[];JSON.parse(localStorage.getItem("areaAndZone")).map((function(e){n.push(e.area._id)}));var c=a.filter((function(e){return n.includes(e._id)}));c.unshift({_id:"Select",name:"Select"}),b(c),ae(),U(!1)})).catch((function(e){J(!0),U(!1)}))}),[]);var ae=function(){w(!1)},ce=function(){U(!0);var t=new FormData;t.append("area",r.area),t.append("installation",r.installation),t.append("projectType",r.projectType),t.append("notificationNumber",r.notificationNumber),t.append("projectId"," "),t.append("date",r.date),t.append("description",r.description),t.append("nameRequisitioner",r.nameRequisitioner),t.append("departmentRequisitioner",r.departmentRequisitioner),t.append("phNumberRequisitioner",r.phNumberRequisitioner),t.append("isjob",!1),t.append("file",$),L.a.post(M+"/notifications/createNotification",t).then((function(t){o({}),U(!1),ae(),e.history.push("/notifications")})).catch((function(e){U(!1),J(!0),U(!1)}))};return c.a.createElement("div",null,c.a.createElement(Q,{show:O,noHandler:ae},R?c.a.createElement(K,null):q?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:C,noHandler:ae,question:A})),c.a.createElement(te,{formName:"Add Notification"}),c.a.createElement(F,null,c.a.createElement("div",{id:"an-col"},c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(re,{label:"Project Type *",size:"wide",options:[{_id:"Select Type",name:"Select Type"},{_id:"Contract",name:"Contract"},{_id:"Miscellaneous",name:"Miscellaneous"},{_id:"Other",name:"Other"}],onChange:function(e){var t=r;t=Object(x.a)({},t,{projectType:e.target.value}),o(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"notification-no",label:"Notification No. *",placeholder:"Enter No.",size:"wide",onChange:function(e){var t=r;t=Object(x.a)({},t,{notificationNumber:e.target.value}),o(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"upload notification",type:"file",label:"Upload Notification",placeholder:"Enter name",size:"wide",onChange:function(e){var t=e.target.files[0];ee(t)}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"date",label:"Date Of Notification *",placeholder:"Enter Date",size:"wide",type:"date",onChange:function(e){var t=r;t=Object(x.a)({},t,{date:e.target.value}),o(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(re,{label:"Area *",size:"wide",options:f,onChange:function(e){m.map((function(t){if(t._id===e.target.value){t.installations.unshift({name:"Select",_id:"Select"}),g(t.installations)}}));var t=r;t=Object(x.a)({},t,{area:e.target.value}),o(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(re,{label:"Installation *",size:"wide",options:j,onChange:function(e){var t=r;t=Object(x.a)({},t,{installation:e.target.value}),o(t)}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"req-name",label:"Name of Requisitioner *",placeholder:"Enter Name",size:"wide",onChange:function(e){var t=r;t=Object(x.a)({},t,{nameRequisitioner:e.target.value}),o(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"req-department",label:"Requisitioner Department *",placeholder:"Enter Department",size:"wide",onChange:function(e){var t=r;t=Object(x.a)({},t,{departmentRequisitioner:e.target.value}),o(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"req-no",label:"Phone No. of Requisitioner *",placeholder:"Enter Number",size:"wide",onChange:function(e){var t=r;t=Object(x.a)({},t,{phNumberRequisitioner:e.target.value}),o(t)}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"},c.a.createElement(je,{rows:"30",cols:"10",label:"Project Description *",size:"wide",onChange:function(e){var t=r;t=Object(x.a)({},t,{description:e.target.value}),o(t)}}))),B.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement("div",{className:"an-row-2"},c.a.createElement(P,{className:"success",label:"Submit",onClick:function(){J(!1);var e,t=[];e={projectType:"PROJECT TYPE",notificationNumber:"NOTIFICATION NUMBER",date:"DATE OF NOTIFICATION",area:"AREA",installation:"INSTALLATION  ",nameRequisitioner:"ENGINEER",departmentRequisitioner:"DEPARTMENT OF REQUISITIONER",phNumberRequisitioner:"PHONE NO. OF REQUISITIONER",description:" PROJECT DESCRIPTION"},Object.keys(e).map((function(a){r[a]||t.push(e[a]+" is required")})),t.length>0?Y(t):(Y([]),D((function(){return function(){return ce()}})),T("Do you want to add this notification?"),w(!0))}})))))}),wt=(a(885),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(null),E=Object(i.a)(b,2),h=E[0],j=E[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),N=v[0],O=v[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1],D=Object(n.useState)(!1),z=Object(i.a)(D,2),I=z[0],A=z[1],P=[];JSON.parse(localStorage.getItem("areaAndZone")).map((function(e){P.push(e.area._id)})),Object(n.useEffect)((function(){C(!0),f(!0),L.a.post(M+"/notifications/getNotificationByArea",{area:P}).then((function(e){var t=[],a=[];t=e.data;var n=1;t.map((function(e){var t={};t["SL No"]=n,n+=1;var r=e.isJob?"JOB ASSIGNED":c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"}},c.a.createElement("div",{style:{marginBottom:"10px"}},c.a.createElement(_.b,{to:"/jobAssignment/"+e._id},c.a.createElement(oe,{iconClass:"fas fa-tasks",className:"success"}))),c.a.createElement("div",{style:{marginBottom:"10px"}},c.a.createElement(_.b,{to:"/editNotification/"+e._id},c.a.createElement(oe,{iconClass:"far fa-edit",className:"success"}))),c.a.createElement("div",{style:{marginBottom:"10px"}},c.a.createElement(oe,{iconClass:"fas fa-trash-alt",className:"success",onClick:function(){return T(e._id)}})));t["Project Type"]=e.projectType,t["Project ID"]=e.projectId,t["Notification/Contract No"]=e.notificationNumber,t.Area=e.area.areaName,t.Installation=e.installation.name,t["Uploaded Details"]="no-details"===e.uploadNotification?e.uploadNotification:c.a.createElement("a",{href:"".concat(M).concat(e.uploadNotification),target:"_blank"},"View Details"),t.Action=r,a=[].concat(Object(ee.a)(a),[t])})),r(a),k(),C(!1)})).catch((function(e){A(!0),C(!1)}))}),[s]);var T=function(e){A(!1),j((function(){return function(){return x(e)}})),O("Do you want to delete this notification?"),f(!0)},k=function(){f(!1)},x=function(e){C(!0),L.a.delete(M+"/notifications/"+e).then((function(e){C(!1),k(),m(!s)})).catch((function(e){C(!1),A(!0)}))};return c.a.createElement("div",{className:"notificationList"},c.a.createElement(Q,{show:p,noHandler:k},S?c.a.createElement(K,null):I?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:h,noHandler:k,question:N})),c.a.createElement(te,{formName:"Notifications List"}),c.a.createElement(F,null,c.a.createElement("div",{class:"notificationListTable"},c.a.createElement(Ne,{headings:["SL No","Project Type","Project ID","Notification/Contract No","Area","Installation","Uploaded Details","Action"],data:a}))))}),yt=(a(886),function(e){var t=Object(n.useState)({projectType:"",area:"",zone:"",zoneName:"",areaName:"",state:"",installation:"",installationName:"",notificationNo:0,projectId:"",notification:"",description:"",technician:"",vendor:"",engineer:"",jrEngineer:"",dos:"",doc:"",validityLLC:"",prNumber:0,poNumber:0,subcontractorName:"",subcontractorNumber:0,remarks:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)([]),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)([]),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)([]),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),_=Object(i.a)(k,2),R=_[0],U=_[1],H=Object(n.useState)([]),V=Object(i.a)(H,2),q=V[0],J=V[1],Z=Object(n.useState)(!1),W=Object(i.a)(Z,2),B=W[0],Y=W[1],G=Object(n.useState)(null),X=Object(i.a)(G,2),ee=X[0],ae=X[1],ce=Object(n.useState)(""),oe=Object(i.a)(ce,2),le=oe[0],se=oe[1],ue=Object(n.useState)(!1),de=Object(i.a)(ue,2),pe=de[0],fe=de[1],be=Object(n.useState)(!1),Ee=Object(i.a)(be,2),he=Ee[0],ge=Ee[1],ve=Object(n.useState)([]),Ne=Object(i.a)(ve,2),Oe=Ne[0],we=Ne[1],ye={name:"Select",_id:"select"};Object(n.useEffect)((function(){fe(!0),Y(!0),L.a.get(M+"/notifications/"+e.match.params.id).then((function(t){var a,n=Object(x.a)({},r);a=t.data[0],n.projectType=a.projectType,n.areaName=a.area.areaName,n.area=a.area._id,n.state=a.state,n.installation=a.installation._id,n.installationName=a.installation.name,n.notificationNo=a.notificationNumber,n.projectId=a.projectId,n.notification=e.match.params.id,n.description=a.description,o(n),L.a.get(M+"/areas/"+a.area._id).then((function(e){var t=e.data.zones;t.unshift(ye),J(t),u(!0),Se(),fe(!1)})).catch((function(e){ge(!0),fe(!1)}))})).catch((function(e){ge(!0),fe(!1)}))}),[]);var Se=function(){Y(!1)},Ce=function(e,t){o(Object(x.a)({},r,Object($.a)({},t,e.target.value))),"zone"===t&&(ge(!1),fe(!0),Y(!0),L.a.post(M+"/users/findUsersInZone",{zoneId:e.target.value}).then((function(e){var t=[];(t=e.data.technician).unshift(ye),b(t),(t=e.data.je).unshift(ye),g(t),(t=e.data.engineer).unshift(ye),w(t),(t=e.data.vendors).unshift(ye),T(t),U(!0),Se(),fe(!1)})).catch((function(e){ge(!0),fe(!1),window.location.reload()})))},De=function(){console.log(r),fe(!0),L.a.post(M+"/projects/createProject",r).then((function(t){Se(),fe(!1),e.history.push("/projects")})).catch((function(e){ge(!0),fe(!1)}))};return c.a.createElement("div",{id:"add-project"},c.a.createElement(Q,{show:B,noHandler:Se},pe?c.a.createElement(K,null):he?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:ee,noHandler:Se,question:le})),c.a.createElement(te,{formName:"Job Assignment"}),m?c.a.createElement(F,null,c.a.createElement("div",{className:"add-project-form"},c.a.createElement("div",{className:"add-project-grid1"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"project-type",label:"Project Type *",disabled:!0,size:"wide",value:r.projectType})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"project-id",label:"Project ID *",disabled:!0,size:"wide",value:r.projectId})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"notification-no",label:"Notification No *",disabled:!0,size:"wide",value:r.notificationNo})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"installation",label:"Installation *",disabled:!0,size:"wide",value:r.installationName})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"area",label:"Area *",disabled:!0,size:"wide",value:r.areaName})))),c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(je,{label:"Description of Project *",name:"description",size:"wide",disabled:!0,value:r.description}))),c.a.createElement("div",{className:"add-project-grid2"},c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"State *",options:[{name:"Select",_id:"select"},{name:"Completed",_id:"Completed"},{name:"Halt",_id:"Halt"},{name:"Ongoing",_id:"Ongoing"}],onChange:function(e){return Ce(e,"state")}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Zone *",options:q,onChange:function(e){return Ce(e,"zone")}})),R?c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Vendor *",options:A,onChange:function(e){return Ce(e,"vendor")}})):null,c.a.createElement("div",{className:"field"},c.a.createElement(Pe,{label:"Sub Contractor Engaged/POA",name:"is-engaged",type:"radio",options:["Yes","No"],onChange:function(e){"Yes"==e.target.value?D(!0):D(!1)}})),C?c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subName",label:"Sub-contractor/POA holder name*",size:"wide",value:r.subcontractorName,onChange:function(e){return Ce(e,"subcontractorName")}})):null,C?c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"subNo",label:"Sub-coordinator/POA holder No. *",size:"wide",value:r.subcontractorNumber,onChange:function(e){return Ce(e,"subcontractorNumber")}})):null,c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"date",name:"dos",placeholder:"Select Date",label:"DOS *",size:"wide",onChange:function(e){return Ce(e,"dos")}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"date",name:"doc",placeholder:"Select Date",label:"DOC *",size:"wide",onChange:function(e){return Ce(e,"doc")}})),R?c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Technician *",options:f,onChange:function(e){return Ce(e,"technician")}})):null,R?c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Jr. Engineer *",options:j,onChange:function(e){return Ce(e,"jrEngineer")}})):null,R?c.a.createElement("div",{className:"field"},c.a.createElement(re,{size:"wide",label:"Assign to Engineer *",options:O,onChange:function(e){return Ce(e,"engineer")}})):null,c.a.createElement("div",{className:"field"},c.a.createElement(ne,{type:"date",name:"lcc-date",placeholder:"Select Date",label:"Validity date of LCC",size:"wide",onChange:function(e){return Ce(e,"validityLLC")}}))),c.a.createElement("div",{className:"text-area"},c.a.createElement(je,{label:"Remarks",name:"remarks",size:"wide",onChange:function(e){return Ce(e,"remarks")}}))),Oe.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement("hr",null),c.a.createElement(P,{className:"success",label:"Submit",onClick:function(){ge(!1);var e=[],t={};t={state:"STATE",zone:"ZONE",vendor:"VENDOR",dos:"DOS",doc:"DOC",technician:"TECHNICIAN",jrEngineer:"JR. ENGINEER",engineer:"ENGINEER"},C&&(t=Object(x.a)({},t,{subcontractorName:"Sub-coordinator/POA holder name",subcontractorNumber:"Sub-coordinator/POA holder No."})),Object.keys(t).map((function(a){r[a]||e.push(t[a]+" is required")})),e.length>0?we(e):(we([]),se("Do you want to assign this job?"),ae((function(){return function(){return De()}})),Y(!0))}}))):null)}),St=(a(887),function(e){var t=Object(n.useState)({projectType:"",projectId:"",notificationNumber:0,area:"",areaName:"",installation:"",nameRequisitioner:"",departmentRequisitioner:"",phNumberRequisitioner:0,description:"",drawing:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)({}),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(null),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)(""),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),_=Object(i.a)(k,2),R=_[0],U=_[1],H=Object(n.useState)(!1),V=Object(i.a)(H,2),q=V[0],J=V[1],Z=Object(n.useState)(),W=Object(i.a)(Z,2),B=W[0],Y=W[1];Object(n.useEffect)((function(){U(!0),w(!0),L.a.get(M+"/notifications/"+e.match.params.id).then((function(e){var t,a=Object(x.a)({},r);t=e.data[0],a.projectType=t.projectType,a.areaName=t.area.areaName,a.area=t.area._id,a.installation=t.installation._id,a.installationName=t.installation.name,a.notificationNumber=t.notificationNumber,a.projectId=t.projectId,a.drawing="noimage.jpg",a.description=t.description,a.departmentRequisitioner=t.departmentRequisitioner,a.nameRequisitioner=t.nameRequisitioner,a.phNumberRequisitioner=t.phNumberRequisitioner,o(a),L.a.post(M+"/users/getUser",{email:localStorage.getItem("Email")}).then((function(e){var n=[];e.data[0].areaAndZone.map((function(e){e.area._id!==a.area&&n.push({name:e.area.areaName,_id:e.area._id})})),n.unshift({name:a.areaName,_id:a.area}),u(n),L.a.get(M+"/installations/allInstallations").then((function(e){var a=[];e.data.map((function(e){var n={};e._id!=t.installation._id&&(n.name=e.name,n._id=e._id,a.push(n))})),a.unshift({name:t.installation.name,_id:t.installation._id}),b(a),g(!0),G(),U(!1)})).catch((function(e){J(!0),U(!1)}))})).catch((function(e){J(!0),U(!1)}))})).catch((function(e){J(!0),U(!1)}))}),[]);var G=function(){w(!1)},X=function(e,t){o(Object(x.a)({},r,Object($.a)({},t,e.target.value)))},ee=function(){U(!0);var t=new FormData;t.append("area",r.area),t.append("installation",r.installation),t.append("projectType",r.projectType),t.append("notificationNumber",r.notificationNumber),t.append("description",r.description),t.append("nameRequisitioner",r.nameRequisitioner),t.append("departmentRequisitioner",r.departmentRequisitioner),t.append("phNumberRequisitioner",r.phNumberRequisitioner),B&&t.append("file",B),L.a.patch(M+"/notifications/"+e.match.params.id,t).then((function(t){U(!1),G(),e.history.push("/notifications")})).catch((function(e){U(!1),J(!0)}))};return c.a.createElement("div",null,c.a.createElement(Q,{show:O,noHandler:G},R?c.a.createElement(K,null):q?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:C,noHandler:G,question:A})),c.a.createElement(te,{formName:"Edit Notification"}),j?c.a.createElement(F,null,c.a.createElement("div",{id:"an-col"},c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(re,{options:[{name:"Select",_id:"0"},{name:"Miscellaneous",_id:"Miscellaneous"},{name:"Others",_id:"Others"},{name:"Contract",_id:"Contract"}],label:"Project Type",size:"wide",value:r.projectType,onChange:function(e){return X(e,"projectType")}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"notification-no",label:"Notification No.",placeholder:"Enter No.",size:"wide",value:r.notificationNumber,onChange:function(e){return X(e,"notificationNumber")}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"upload notification",type:"file",label:"Upload Notification",placeholder:"Enter name",size:"wide",onChange:function(e){var t=e.target.files[0];Y(t)}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(re,{options:m,label:"Area",size:"wide",onChange:function(e){return X(e,"area")}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(re,{options:f,label:"Installation",size:"wide",onChange:function(e){return X(e,"installation")}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"req-name",label:"Name of Requisitioner",placeholder:"Enter Name",size:"wide",value:r.nameRequisitioner,onChange:function(e){return X(e,"nameRequisitioner")}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"req-department",label:"Requisitioner Department",placeholder:"Enter Department",size:"wide",value:r.departmentRequisitioner,onChange:function(e){return X(e,"departmentRequisitioner")}})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{name:"req-no",label:"Phone No. of Requisitioner",placeholder:"Enter Number",size:"wide",value:r.phNumberRequisitioner,onChange:function(e){return X(e,"phNumberRequisitioner")}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"},c.a.createElement(je,{rows:"30",cols:"10",label:"Project Description",value:r.description,size:"wide",onChange:function(e){return X(e,"description")}}))),c.a.createElement("div",{className:"an-row-2"},c.a.createElement(P,{className:"success",label:"Update",onClick:function(){J(!1),D((function(){return function(){return ee()}})),T("Do you want to edit this notification?"),w(!0)}})))):null)}),Ct=(a(888),function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)(!1),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)([]),_=Object(i.a)(k,2),R=_[0],U=_[1],H=function(){g(!1)},V=Object(n.useState)({workContent:"",workOrderDate:"",workOrderNumber:""}),q=Object(i.a)(V,2),J=q[0],W=q[1],B=Object(n.useState)({projectId:"",vendor:"",notificationNum:"",dos:"",doc:"",vendorAddress:"",description:"",zoneCode:"",workOrder:{}}),Y=Object(i.a)(B,2),G=Y[0],X=Y[1],$=function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},ee=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),a+"-"+n+"-"+c};Object(n.useEffect)((function(){b(!0),g(!0),L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.id).then((function(e){var t=e.data,a={};a._id=t._id,a.projectId=t.projectId,a.vendor=t.vendor.name,a.notificationNum=t.notificationNo,a.dos=ee(t.dos),a.doc=ee(t.doc),a.vendorAddress=t.vendor.address,a.vendorCode=t.vendor.code,a.description=t.description,a.workOrder=t.workOrder,a.zoneCode=t.zone.zoneCode,a.issuerName=localStorage.getItem("Name"),a.designation=localStorage.getItem("Role"),a.vendor=t.vendor.name,X(a),W(Object(x.a)({},J,{workOrderNumber:"CIV/WO/"+t.projectId.substr(t.projectId.length-5)})),H(),b(!1)})).catch((function(e){T(!0),b(!1)}))}),[]);return c.a.createElement("div",null,O?c.a.createElement(Z.a,{to:"/projects"}):null,c.a.createElement(Q,{show:j,noHandler:H},f?c.a.createElement(K,null):A?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:function(){b(!0),L.a.patch(M+"/projects/editProject/"+G._id,{workOrder:J}).then((function(e){L.a.post(M+"/workProgress/addWorkProgress",{projectId:G._id,dos:$(G.dos),doc:$(G.doc)}).then((function(e){w(!0),H(),b(!1)})).catch((function(e){T(!0),b(!1)}))})).catch((function(e){T(!0),b(!1)}))},noHandler:H,question:m})),c.a.createElement(te,{formName:"Work Order"}),r?c.a.createElement(F,null,c.a.createElement(n.Fragment,null,c.a.createElement(_e.c,{height:"800",width:"1200",className:"app"},c.a.createElement(Ue,{projectDetails:G,docName:"Work Order"})))):c.a.createElement(F,null,c.a.createElement("form",null,c.a.createElement("div",{id:"an-col"},c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{disabled:"true",name:"project-id",label:"Project ID",value:G.projectId,size:"wide"})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{disabled:"true",name:"vendor-name",label:"Vendor Name",value:G.vendor,size:"wide"})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{disabled:"true",name:"work-order-no",label:"Work Order No.",value:J.workOrderNumber,size:"wide"})),c.a.createElement("div",{className:"an-row-in"}," ",C?c.a.createElement(ne,{type:"date",name:"workorder-date",label:"Work Order Date",placeholder:"Select Date",size:"wide",onChange:function(e){return W(Object(x.a)({},J,{workOrderDate:e.target.value}))}}):c.a.createElement(ne,{type:"date",name:"workorder-date",label:"Work Order Date",placeholder:"Select Date",size:"wide",disabled:!!G.workOrder,value:G.workOrder?ee(G.workOrder.workOrderDate):null,onChange:function(e){return W(Object(x.a)({},J,{workOrderDate:e.target.value}))}}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{disabled:"true",name:"notification-no",label:"Notification No.",value:G.notificationNum,size:"wide"})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{disabled:"true",name:"dos",label:"DOS",value:G.dos,size:"wide"})),c.a.createElement("div",{className:"an-row-in"}," ",c.a.createElement(ne,{disabled:"true",name:"doc",label:"DOC",value:G.doc,size:"wide"}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"},c.a.createElement(je,{value:G.vendorAddress,disabled:"true",size:"wide",label:"Vendor Address"}))),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"},c.a.createElement(je,{value:G.description,disabled:"true",size:"wide",label:"Project Description"}))),c.a.createElement("div",{className:"wo-static"},c.a.createElement("h3",null,"Dear Sir/Madam"),c.a.createElement("div",{className:"an-row-in"},C?c.a.createElement(je,{size:"wide",onChange:function(e){return W(Object(x.a)({},J,{workContent:e.target.value}))}}):c.a.createElement(je,{size:"wide",disabled:!!G.workOrder,value:G.workOrder?G.workOrder.workContent:null,onChange:function(e){return W(Object(x.a)({},J,{workContent:e.target.value}))}}))),c.a.createElement("div",{className:"wo-static"}),c.a.createElement("div",{className:"an-row"},c.a.createElement("div",{className:"an-row-in"},c.a.createElement("div",{id:"wo-border",className:"wo-center"},"Signature"),c.a.createElement("div",{className:"wo-center"}," ",G.vendor," "),c.a.createElement("div",{className:"wo-center"},"Vendor code: ",G.vendorCode)),c.a.createElement("div",{className:"wo-space"}),c.a.createElement("div",{className:"an-row-in"},c.a.createElement("div",{id:"wo-border",className:"wo-center"},"Signature"),c.a.createElement("div",{className:"wo-center"}," ",G.issuerName," "),c.a.createElement("div",{className:"wo-center"}," ",G.designation," "))),c.a.createElement("div",{className:"wo-static"}),c.a.createElement("br",null),R.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)})),c.a.createElement("div",{className:"an-row-2"},G.workOrder&&!C?c.a.createElement(c.a.Fragment,null,c.a.createElement(P,{type:"submit",className:"danger",label:"Print",onClick:function(){return o(!0)}}),c.a.createElement(oe,{iconClass:"fa fa-pencil",className:"success",hint:"Edit User",onClick:function(){return D(!0)}})):c.a.createElement(P,{label:"Save",className:"danger",onClick:function(e){return function(e){e.preventDefault(),T(!1);var t,a=[];t={workContent:"WORK ORDER DESCRIPTION",workOrderDate:"WORK ORDER DATE",workOrderNumber:"WORK ORDER NUMBER"},Object.keys(t).map((function(e){J[e]||a.push(t[e]+" is required")})),a.length>0?U(a):(U([]),u("Do you want to issue this Work Order?"),g(!0))}(e)}}))))))}),Dt=(a(889),function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)({}),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),R=Object(i.a)(k,2),U=(R[0],R[1]),H=Object(n.useState)({material:"",quantity:0}),V=Object(i.a)(H,2),q=V[0],J=V[1];Object(n.useEffect)((function(){w(!0),g(!0),L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.projectId).then((function(e){var t={};t.projectType=e.data.projectType,t.projectId=e.data.projectId,t.vendor=e.data.vendor.name,T(t);var a=[];e.data.materials.map((function(e){var t={};t.Material=e.material.description,t.Code=e.material.code,t.Unit=e.material.unit,t.cummulative=e.cummulative,a=[].concat(Object(ee.a)(a),[t])})),o(a),L.a.get(M+"/material/getMaterialList").then((function(e){var t=[];e.data.map((function(e){var a={};a.name=e.description+" ("+e.code+")",a._id=e._id,t=[].concat(Object(ee.a)(t),[a])})),t.unshift({name:"Select",_id:"Select"}),u(t),W(),w(!1)})).catch((function(e){U(!0),w(!1)}))})).catch((function(e){U(!0),w(!1)}))}),[f]);var Z=function(e){var t=Object(x.a)({},q);t[e.target.name]=e.target.value,J(t)},W=function(){g(!1)};return c.a.createElement("div",{className:"materialIssue"},c.a.createElement(Q,{show:j,noHandler:W},O?c.a.createElement(K,null):c.a.createElement(ie,{yesHandler:function(){w(!0),L.a.post(M+"/projects/addMaterial",{projectId:e.match.params.projectId,materialId:q.material,quantity:parseInt(q.quantity),reservationNo:q.reservationNo,date:q.date}).then((function(e){W(),w(!1),b(!f),J(Object(x.a)({},q,{quantity:0}))})).catch((function(e){U(!0),w(!1)}))},noHandler:W,question:C})),c.a.createElement(te,{formName:"Material Issue"}),c.a.createElement(F,null,c.a.createElement("div",{className:"materialForm"},c.a.createElement("div",{className:"formField"},c.a.createElement(ne,{name:"project-id",label:"Project ID",size:"wide",value:A.projectId,disabled:!0})),c.a.createElement("div",{className:"formField"},c.a.createElement(ne,{name:"project-type",label:"Project ID",size:"wide",value:A.projectType,disabled:!0})),c.a.createElement("div",{className:"formField"},c.a.createElement(ne,{name:"vendor-name",label:"Vendor Name",size:"wide",value:A.vendor,disabled:!0}))),c.a.createElement(_.b,{to:"/material-list/"+e.match.params.projectId},c.a.createElement("div",{style:{marginBottom:"20px"}},c.a.createElement(P,{label:"View Detailed Material List",className:"success"}))),c.a.createElement("div",{className:"materialTable"},0!=r.length?c.a.createElement(gt,{contents:r}):c.a.createElement(vt,{headings:["Material","Material Code","Unit","Cummulative"]})),c.a.createElement("div",{className:"addMaterialForm"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"reservationNo",label:"Reservation No.",size:"wide",value:q.reservationNo,onChange:function(e){return Z(e)}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"date",label:"Date",size:"wide",type:"date",value:q.date,onChange:function(e){return Z(e)}})),c.a.createElement("div",{className:"field"},c.a.createElement(re,{name:"material",size:"wide",label:"Material",options:m,onChange:function(e){return Z(e)}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{name:"quantity",label:"Quantity",size:"wide",value:q.quantity,onChange:function(e){return Z(e)}})),c.a.createElement("center",{style:{marginTop:"3vh"}},c.a.createElement(oe,{className:"field success",iconClass:"fas fa-plus",onClick:function(){U(!1),D("Do you want to add this material?"),g(!0)}})))))}),zt=(a(890),function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!0),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(null),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)(),I=Object(i.a)(z,2),A=I[0],T=I[1],k=function(e,t,a){w((function(){return function(){return U(e,t,a)}})),g("Are you sure you have verfied the tally for this day? You cannot change it later. Continue?"),b(!0)},x=function(){b(!1)},R=function(e){var t=e.split("/");return new Date(t[2],t[1]-1,t[0])};Object(n.useEffect)((function(){L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.projectId).then((function(t){var a=[];t.data.progress.perDayProgress.map((function(n){var r={},o=n._id,i=!1;"Engineer"===localStorage.getItem("Role")?i=n.approvedByEngineer:"Jr. Engineer"===localStorage.getItem("Role")?i=n.approvedByJe:"Technician"===localStorage.getItem("Role")&&(i=n.approvedByTech),r["Date of Entry"]=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a}(n.dateOfEntry);var l=n.approvedByTech?c.a.createElement(Pe,{options:["Yes"],type:"checkbox",checkedIndex:0}):c.a.createElement(Pe,{options:["Yes"],type:"checkbox",onChange:function(){return k("Technician",o,"approvedByTech")}});r["Verified by Technician"]=l,l=n.approvedByJe?c.a.createElement(Pe,{options:["Yes"],type:"checkbox",checkedIndex:0}):c.a.createElement(Pe,{options:["Yes"],type:"checkbox",onChange:function(){return k("Jr. Engineer",o,"approvedByJe")}}),r["Verified by Jr. Engineer"]=l,l=n.approvedByEngineer?c.a.createElement(Pe,{options:["Yes"],type:"checkbox",checkedIndex:0}):c.a.createElement(Pe,{options:["Yes"],type:"checkbox",onChange:function(){return k("Engineer",o,"approvedByEngineer")}}),r["Verified by Engineer"]=l,r.Open=new Date(n.dateOfEntry)<=new Date?c.a.createElement(_.b,{to:"/tally/"+e.match.params.projectId+"/"+n._id},c.a.createElement(P,{label:i||"Completed"===t.data.state?"View":"Edit",className:"success"})):c.a.createElement(P,{label:i||"Completed"===t.data.state?"View":"Edit",className:"disabled"},t.data),a=[].concat(Object(ee.a)(a),[r])})),o(a)})).catch((function(e){}))}),[m]);var U=function(t,a,n){localStorage.getItem("Role")!==t?(b(!1),alert("You can only verify for your designation!"),u(!m)):(D(!0),L.a.post(M+"/workProgress/updateVerified",{progressId:e.match.params.progressId,dayId:a,type:n}).then((function(e){D(!1),x(),u(!m)})).catch((function(e){D(!1),x(),u(!m)})))},H=function(){D(!0),L.a.post(M+"/workProgress/extend",{progressId:e.match.params.progressId,projectId:e.match.params.projectId,from:R(r[r.length-1]["Date of Entry"]),to:new Date(A)}).then((function(e){console.log(e),D(!1),x(),u(!m)})).catch((function(e){}))};return c.a.createElement("div",{className:"dailyprogress"},c.a.createElement(Q,{show:f,noHandler:x},C?c.a.createElement(K,null):c.a.createElement(ie,{yesHandler:O,noHandler:x,question:j})),c.a.createElement(te,{formName:"Daily Progress Date List"}),c.a.createElement(F,null,c.a.createElement("p",null,"* Current expected date of completion"," ",r[r.length-1]?r[r.length-1]["Date of Entry"]:null),c.a.createElement(ne,{type:"date",onChange:function(e){return T(e.target.value)}}),c.a.createElement("span",{style:{marginLeft:"20px"}}),c.a.createElement("button",{label:"Extend",className:"success",disabled:A&&R(r[r.length-1]["Date of Entry"]).setHours(0,0,0,0)>=new Date(A).setHours(0,0,0,0),style:{cursor:A&&R(r[r.length-1]["Date of Entry"]).setHours(0,0,0,0)>=new Date(A).setHours(0,0,0,0)?"no-drop":"pointer"},onClick:function(){return w((function(){return function(){return H()}})),g("Do you want to extend the date?"),void b(!0)}},"Extend"),A&&R(r[r.length-1]["Date of Entry"]).setHours(0,0,0,0)>=new Date(A).setHours(0,0,0,0)?c.a.createElement("p",{style:{marginTop:"-10px",color:"red"}},"Please enter a valid date of extension"):null,c.a.createElement("div",{className:"dailytable"},0!=r.length?c.a.createElement(gt,{contents:r}):null)))}),It=(a(891),function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)({password:"",confirmPassword:""}),d=Object(i.a)(u,2),p=d[0],f=d[1],b=function(e,t){f(Object(x.a)({},p,Object($.a)({},t,e.target.value)))},E=function(){r(!1)};return c.a.createElement("div",{id:"change-password"},c.a.createElement(Q,{show:a,noHandler:E},c.a.createElement(ie,{yesHandler:function(){p.password==p.confirmPassword&&p.password?L.a.post(M+"/users/changePassByUser",{password:p.password},{withCredentials:!0}).then((function(e){return window.location.reload(!0)})):alert("passwords do not match")},noHandler:E,question:s})),c.a.createElement(te,{formName:"Change Password"}),c.a.createElement(F,null,c.a.createElement("div",{className:"fields"},c.a.createElement("div",{className:"field"},c.a.createElement(ne,{label:"Enter New Password",size:"wide",type:"text",onChange:function(e){return b(e,"password")}})),c.a.createElement("div",{className:"field"},c.a.createElement(ne,{label:"Confirm New Password",size:"wide",type:"text",onChange:function(e){return b(e,"confirmPassword")}}))),c.a.createElement(P,{type:"submit",onClick:function(){m("Do you want to change your password?"),r(!0)},label:"Change Password",className:"primary"})))}),At=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(null),h=Object(i.a)(E,2),j=h[0],g=h[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),O=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],D=S[1],z=Object(n.useState)(!1),I=Object(i.a)(z,2),A=I[0],T=I[1],k=Object(n.useState)(!1),_=Object(i.a)(k,2),x=_[0],R=_[1],U=function(){b(!1)},H=function(){D(!0),L.a.patch(M+"/projects/editProject/"+e.match.params.projectId,{adc:new Date(m),state:"Completed"}).then((function(){D(!1),U(),T(!0)})).catch((function(e){R(!0),D(!1)}))};return c.a.createElement(c.a.Fragment,null,A?c.a.createElement(Z.a,{to:"/projects"}):null,c.a.createElement(Q,{show:f,noHandler:U},C?c.a.createElement(K,null):x?c.a.createElement("p",null,"Something went wrong!"):c.a.createElement(ie,{yesHandler:j,noHandler:U,question:O})),c.a.createElement(te,{formName:"Submit Project"}),c.a.createElement(F,null,c.a.createElement(ne,{type:"date",label:"Enter date of completion of Project",onChange:function(e){u(e.target.value)}}),c.a.createElement("span",{style:{marginLeft:"10px"}}),c.a.createElement(P,{label:"success",className:"success",onClick:function(){var e=[];m||e.push("DATE is required"),e.length>0?o(e):(o([]),R(!1),g((function(){return function(){return H()}})),w("Do you want to submit?"),b(!0))}}),r.map((function(e){return c.a.createElement(me.a,{severity:"info"},e)}))))},Pt=[],Tt=function(e){var t=Object(n.useState)(Pt),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=(p[0],p[1],Object(n.useState)("")),b=Object(i.a)(f,2),E=(b[0],b[1],Object(n.useState)({})),h=Object(i.a)(E,2),j=h[0],g=h[1];Object(n.useEffect)((function(){L.a.get(M+"/projects/projectDetails?projectId="+e.match.params.projectId).then((function(e){var t={};console.log(e.data),t.projectType=e.data.projectType,t.projectId=e.data.projectId,t.vendor=e.data.vendor.name,g(t);var a=[];e.data.detailMaterials.map((function(e){var t={};t["Reservation No"]=e.reservationNo,t["Date of issue"]=v(e.date),t.Material=e.material.description,t["Material Code"]=e.material.code,t.Quantity=e.quantity,t.Unit=e.material.unit,a=[].concat(Object(ee.a)(a),[t])})),o(a)})).catch((function(e){console.log(e)}))}),[]);var v=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),c+"/"+n+"/"+a};return c.a.createElement("div",{className:"materialIssue"},c.a.createElement(Q,{show:m,noHandler:function(){u(!1)}},c.a.createElement(K,null)),c.a.createElement(te,{formName:"Detailed Material List"}),c.a.createElement(F,null,c.a.createElement("div",{className:"materialForm"},c.a.createElement("div",{className:"formField"},c.a.createElement(ne,{name:"project-id",label:"Project ID",size:"wide",value:j.projectId,disabled:!0})),c.a.createElement("div",{className:"formField"},c.a.createElement(ne,{name:"project-type",label:"Project ID",size:"wide",value:j.projectType,disabled:!0})),c.a.createElement("div",{className:"formField"},c.a.createElement(ne,{name:"vendor-name",label:"Vendor Name",size:"wide",value:j.vendor,disabled:!0}))),c.a.createElement("div",{className:"materialTable"},c.a.createElement(Ne,{headings:["Reservation No","Date of issue","Material","Material Code","Quantity","Unit"],data:r,title:"Detailed Material List"}))))},kt=a(386),_t=a.n(kt),xt=a(387),Rt=a.n(xt),Lt=a(388),Mt=a.n(Lt),Ut={container:{display:"flex",flexDirection:"row"},card:{minHeight:"70px",width:"100%",borderRadius:"4px",transitionDuration:"0.4s",padding:"15px",boxSizing:"border-box"}},Ht=function(e){return c.a.createElement(F,null,c.a.createElement("h1",null,"Technical Documents"),c.a.createElement("div",{style:Ut.container},e.location.state.technicalDoc.map((function(e){return c.a.createElement("a",{href:M+e.url,target:"_blank",style:{margin:"20px"}},c.a.createElement("div",{style:Ut.card},"png"===e.url.split(".")[e.url.split(".").length-1]||"jpg"===e.url.split(".")[e.url.split(".").length-1]||"jpeg"===e.url.split(".")[e.url.split(".").length-1]?c.a.createElement("img",{src:_t.a,alt:"image",height:"40px"}):"pdf"===e.url.split(".")[e.url.split(".").length-1]?c.a.createElement("img",{src:Rt.a,alt:"pdf",height:"40px"}):c.a.createElement("img",{src:Mt.a,alt:"Document",height:"40px"})))}))),c.a.createElement("h1",null,"Site Photos"),c.a.createElement("div",{style:Ut.container},e.location.state.sitePhoto.map((function(e){return c.a.createElement("a",{href:M+e.url,target:"_blank",style:{margin:"20px"}},c.a.createElement("div",{style:Ut.card},"png"===e.url.split(".")[e.url.split(".").length-1]||"jpg"===e.url.split(".")[e.url.split(".").length-1]||"jpeg"===e.url.split(".")[e.url.split(".").length-1]?c.a.createElement("img",{src:_t.a,alt:"image",height:"40px"}):"pdf"===e.url.split(".")[e.url.split(".").length-1]?c.a.createElement("img",{src:Rt.a,alt:"pdf",height:"40px"}):c.a.createElement("img",{src:Mt.a,alt:"Document",height:"40px"})))}))))},Vt=function(e){var t=c.a.useState(!0),a=Object(i.a)(t,2),n=a[0];a[1];return c.a.createElement(Z.d,null,c.a.createElement(W,{path:"/dashboard",component:tt,isAuth:e.isAuth}),c.a.createElement(W,{path:"/show-cause/:id",component:He,isAuth:n}),c.a.createElement(W,{path:"/projects",component:De,isAuth:n}),c.a.createElement(W,{path:"/project-details/:id",component:Ie,isAuth:n}),c.a.createElement(W,{path:"/notification",component:Ot,isAuth:n}),c.a.createElement(W,{path:"/notifications",component:wt,isAuth:n}),c.a.createElement(W,{path:"/editNotification/:id",component:St,isAuth:n}),c.a.createElement(W,{path:"/jobAssignment/:id",component:yt,isAuth:n}),c.a.createElement(W,{path:"/work-order/:id",component:Ct,isAuth:n}),c.a.createElement(W,{path:"/materials/:projectId",component:Dt,isAuth:n}),c.a.createElement(W,{path:"/tally/:projectId/:dateId",component:Nt,isAuth:n}),c.a.createElement(W,{path:"/daily-progress/:projectId/:progressId",component:zt,isAuth:n}),c.a.createElement(W,{path:"/editProject/:projectId",component:Te,isAuth:n}),c.a.createElement(W,{path:"/changePass",component:It,isAuth:n}),c.a.createElement(W,{path:"/techdocs",component:ke,isAuth:n}),c.a.createElement(W,{path:"/submitJob/:projectId",component:At,isAuth:n}),c.a.createElement(W,{path:"/material-list/:projectId",component:Tt,isAuth:n}),c.a.createElement(W,{path:"/tallyDocs",component:Ht,isAuth:n}))},Ft=function(e){var t=c.a.useState(!0),a=Object(i.a)(t,2),n=a[0];a[1];return c.a.createElement(Z.d,null,c.a.createElement(W,{path:"/dashboard",component:tt,isAuth:e.isAuth}),c.a.createElement(W,{path:"/show-cause/:id",component:He,isAuth:n}),c.a.createElement(W,{path:"/projects",component:De,isAuth:n}),c.a.createElement(W,{path:"/project-details/:id",component:Ie,isAuth:n}),c.a.createElement(W,{path:"/notification",component:Ot,isAuth:n}),c.a.createElement(W,{path:"/materials/:projectId",component:Dt,isAuth:n}),c.a.createElement(W,{path:"/tally/:projectId/:dateId",component:Nt,isAuth:n}),c.a.createElement(W,{path:"/daily-progress/:projectId/:progressId",component:zt,isAuth:n}),c.a.createElement(W,{path:"/editProject/:projectId",component:Te,isAuth:n}),c.a.createElement(W,{path:"/changePass",component:It,isAuth:n}),c.a.createElement(W,{path:"/techdocs",component:ke,isAuth:n}),c.a.createElement(W,{path:"/tallyDocs",component:Ht,isAuth:n}))},qt=function(e){var t=c.a.useState(!0),a=Object(i.a)(t,2),n=a[0];a[1];return c.a.createElement(Z.d,null,c.a.createElement(W,{path:"/dashboard",component:tt,isAuth:e.isAuth}),c.a.createElement(W,{path:"/show-cause/:id",component:He,isAuth:n}),c.a.createElement(W,{path:"/projects",component:De,isAuth:n}),c.a.createElement(W,{path:"/project-details",component:Ie,isAuth:n}),c.a.createElement(W,{path:"/notification",component:Ot,isAuth:n}),c.a.createElement(W,{path:"/notifications",component:wt,isAuth:n}),c.a.createElement(W,{path:"/editNotification/:id",component:St,isAuth:n}),c.a.createElement(W,{path:"/jobAssignment/:id",component:yt,isAuth:n}),c.a.createElement(W,{path:"/work-order/:id",component:Ct,isAuth:n}),c.a.createElement(W,{path:"/materials/:projectId",component:Dt,isAuth:n}),c.a.createElement(W,{path:"/tally",component:Nt,isAuth:n}),c.a.createElement(W,{path:"/dailyWork",component:zt,isAuth:n}),c.a.createElement(W,{path:"/editProject/:projectId",component:Te,isAuth:n}),c.a.createElement(W,{path:"/techdocs",component:ke,isAuth:n}),c.a.createElement(W,{path:"/changePass",component:It,isAuth:n}),c.a.createElement(W,{path:"/tallyDocs",component:Ht,isAuth:n}))},Jt=function(e){var t=c.a.useState(!0),a=Object(i.a)(t,2),n=a[0];a[1];return c.a.createElement(Z.d,null,c.a.createElement(W,{path:"/dashboard",component:tt,isAuth:e.isAuth}),c.a.createElement(W,{path:"/projects",component:De,isAuth:n}),c.a.createElement(W,{path:"/show-cause/:id",component:He,isAuth:n}),c.a.createElement(W,{path:"/project-details/:id",component:Ie,isAuth:n}),c.a.createElement(W,{path:"/notification",component:Ot,isAuth:n}),c.a.createElement(W,{path:"/tally/:projectId/:dateId",component:Nt,isAuth:n}),c.a.createElement(W,{path:"/daily-progress/:projectId/:progressId",component:zt,isAuth:n}),c.a.createElement(W,{path:"/editProject/:projectId",component:Te,isAuth:n}),c.a.createElement(W,{path:"/changePass",component:It,isAuth:n}),c.a.createElement(W,{path:"/techdocs",component:ke,isAuth:n}),c.a.createElement(W,{path:"/tallyDocs",component:Ht,isAuth:n}))};var Zt=function(){var e,t=c.a.useState(!0),a=Object(i.a)(t,2),n=(a[0],a[1],c.a.useState(!!localStorage.getItem("Role"))),r=Object(i.a)(n,2),o=r[0],l=r[1];switch(localStorage.getItem("Role")){case"SAP":e=c.a.createElement(jt,null);break;case"GM/DGM":e=c.a.createElement(qt,null);break;case"Engineer":e=c.a.createElement(Vt,null);break;case"Jr. Engineer":e=c.a.createElement(Ft,null);break;case"Technician":e=c.a.createElement(Jt,null);break;default:e=null}return c.a.createElement(_.a,null,o||0===window.location.pathname.localeCompare("/login")?null:window.location.pathname="/login",0===window.location.pathname.localeCompare("/login")?c.a.createElement(X,{loggedIn:o,setLoggedIn:l}):c.a.createElement(V,null,e))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Zt,null)),document.getElementById("root"))}},[[586,1,2]]]);
//# sourceMappingURL=main.91d83073.chunk.js.map